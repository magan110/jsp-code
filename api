<%@ page trimDirectiveWhitespaces="true" %>
<!-- <%@ page import="org.json.simple.JSONObject" %> -->
<%
boolean mobilApp = false;
//	System.out.println("response.getStatus() " + response.getStatus());

if(session.getAttribute("mobilApp") != null)
	mobilApp = Boolean.parseBoolean((String) session.getAttribute("mobilApp"));

//System.out.println("mobilApp " + mobilApp);
%>

<%@ page language="java" import="java.sql.*, java.text.*, java.util.*, java.io.*" %>

<%@ page errorPage="/Envr/JSP/ErrorPage.jsp" %>
<%@ include file="/Intranet/Accounts/AcctCodes.jsp" %>
<%@ include file="/Intranet/Accounts/Cooperative/CopAcctCodes.jsp" %>
<%@ include file="/Envr/Login/BeanDecCom.jsp" %>
<%!
ResultSet rset = null;
String msg = "";
String fromLink = "",
acLedPag = "/Intranet/Accounts/Reports/AcctLedger.jsp";
%>

<%
/*
Pending issues
	initialize loginIdn, loginIdM, empCoden with relevant values for site and marketing logins - done
	Set DriverManager.setLoginTimeout(1) for kharia to web server and vice versa.
	select employee name also in SecurityCom
	empCoden to change to loginIdM - check and do it
	BeanResetCom to correct for Mktg Application
	To make CommRead common
	To remove selectRecord and updateRecord from all beans and extend SuperData in the beans
	Remove useless functions from CommonVerify.js - VJ
	Change all old Print Programs - VJ
	Remove partyMas.jsp from website - VJ
KkrSessBean.setSqlToDsp(true);
*/

int dbgSecCn = 0;

KkrSessBean.setSqlToDsp(false);
WebSessBean.setSqlToDsp(false);
Calendar calendar = new GregorianCalendar();

SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy 'at' HH:mm:ss"),
				 dmyMains = new SimpleDateFormat("dd/mm/yyyy");

DecimalFormat   df0 = new DecimalFormat("#######0"),
				df1 = new DecimalFormat("#######0.0"),
				df2 = new DecimalFormat("#######0.00"),
				df3 = new DecimalFormat("#######0.000"),
				df5 = new DecimalFormat("#######0.00000");

String	siteMktg = (String) session.getAttribute("siteMktg"),
		orgnzCod = (String) session.getAttribute("orgnzCod"),
		orgLocCd = (String) session.getAttribute("orgLocCd"),
		orgnzStr = "",
		orgLocSt = "",
		cssPathS = "",
		activity = "N",
		sessionId = null,
		userType = "",
		loginIdM = "",
		filePath = "d:\\downlodT\\",
//		filePath = "D:\\BirlawhiteEAR\\SPARSH\\Stat\\tempCoop\\",
		emailFRM = "",
		emailTOs = "",
		emailCCs = "",
		emailBCC = "",
		emailSUB = "",
		emailMSG = "",
		factAdd1 = "Rajashree Nagar,",
		factAdd2 = "Kharia Khangar, Distt. Jodhpur - 342 606",
		mktToSte = "N",
		steToMkt = "N",
		pageTypeGl = "",
		sysDateOnly = dmyMains.format(dmyMains.parse("" + calendar.get(calendar.DAY_OF_MONTH) + "/" + (calendar.get(calendar.MONTH) + 1) + "/" + calendar.get(calendar.YEAR))),
		serverName = request.getServerName(),
		pageAddress = request.getRequestURI(),
		ipAddres = request.getRemoteAddr(),
		serialnumber = request.getRemoteAddr(),
		servletPath = request.getServletPath(),
		machName = "", //request.getRemoteHost();
		jspPagNm = pageAddress.substring(pageAddress.lastIndexOf("/") + 1, pageAddress.lastIndexOf(".")),
		popupWin = "",
		styleToBeAdded = "",
		errorMsg = "@br@There is an error@br@Please Contact to Administrator @br@ ",
		loginIdn = "",
		empCoden = "",
		empArCod = "",
		comTabPr = "",
		errorPage = "/Envr/JSP/ErrorPage.jsp",
		splitMlt = GenrlSuper.getSplitMlt(),
		splitChr = GenrlSuper.getSplitChr(),
		faMaxDat = (String) session.getAttribute("faMaxDat"), 
		fieldSep = GenrlSuper.getSplitChr(),
		logDtIns = "",
		docDtIns = "",
		docNoLen = "16",
		prodCntrGl = "",

		hedClass = "",
		dtlClass = "",
		selClass = "",
		butonSav = "",
		tabRowHd = "",
		tabRowDt = "",
		textClas = "",
//		dtlClsNm = "",
//		tabClass = "",
//		manBakOp = "",
//		butonCal = "",
//		butonLup = "",

		itTeamLd = "S1659",
		acHodCod = "S2558",
		salAcInc = "S2111",
//		fhFinCod = "S1985", 
//		cmrMktHd = "1832",
		fincYerIT = "24", // For Income Tax
		finYrCsh = "25", // For Payment Voucher Generation of Freight Payment
		fnYrRtlr = "2015-2016",
		drwgPath = "/Intranet/Plant/Drawing/",

		purGrpPg = "/Intranet/Purch/Reports/PurchGrpPrty.jsp",
		indVwPag = "/Intranet/Stores/Indent/IndentView.jsp",
		issVwPag = "/Intranet/Stores/Issue/IssueView.jsp",
		mrnVwPag = "/Intranet/Stores/Receipt/ReceiptView.jsp",
		purVwPag = "/Intranet/Purch/PO/POView.jsp",
		itmVwPag = "/Intranet/Stores/Reports/ItemDetlView.jsp",
		indDtlPg = "/Intranet/Stores/Reports/IndPOMRNDetails.jsp",
		gpasVwPg = "/Intranet/Stores/GatePass/GatePassView.jsp",
		prtyMsPg = "/Intranet/Masters/PartyMas.jsp",
		prtyVwPg = "/Intranet/Masters/PartyView.jsp",
		despVwPg = "/Intranet/Logistics/DailyRep/DespatchPlan.jsp",
		lRPrntPg = "/Intranet/Logistics/DocuPrint/LrRecptPrint.jsp",
		lRPrnPag = "/Intranet/Logistics/DocuPrint/LrRecptPrintNew.jsp",
		invCalPg = "/Intranet/Logistics/View/InvCalcViw.jsp",
		sclClbPg = "/Intranet/Logistics/View/SuperClubVw.jsp",
		ordrVwPg = "/Intranet/Logistics/Entry/LogisOrdViw.jsp",
		brkDwnPg = "/Intranet/Plant/BreakDown/BreakDownView.jsp",
		unsfVwPg = "/Intranet/Safety/UnsafeCond/UnsafeCondReport.jsp",
		smsDtlpg = "/Intranet/General/SMS/SmsSendDetl.jsp",
		ghjVewPg = "/Intranet/HR/GHJdp/GHJdpReqVw.jsp",
		gdfVewPg = "/Intranet/WCM/GoodToFind/GoodToFindVw.jsp",
		bilVewPg = "/Intranet/General/Vendor/SuppBillPrint.jsp",

		mktCusPg = "/BirlaWhite/Reports/Accounts/CustAcctStatment.jsp",
		mktAccPg = "/BirlaWhite/Reports/SecEntry/WebLedger.jsp",
		mktVouPg = "/BirlaWhite/Reports/SecEntry/WebVouchView.jsp",
		fdBakPag = "/Intranet/IT/ITSec/ChngRqstUserView.jsp",

		acHdName = "",
		acHdDesg = "Assistant Manager",
		kkrPhone = "02920 - 264040-47",
		kkrFaxNo = "02920 - 264222";

boolean siteConn = true,
		paginApp = false,
		isDevSrvGl = false,
		siteEmpl = false;

//System.out.println("jspPagNm : " + jspPagNm + " session.getAttribute(sessStat) 1 : " + session.getAttribute("sessStat"));

if (mobilApp)
{
	hedClass = "ui-bar-a ui-shadow";
	dtlClass = "";
	selClass = "data-theme='a' data-overlay-theme='a'";
	butonSav = "data-icon='check'";
	tabRowHd = "class='ui-bar-b ui-shadow'";
	tabRowDt = "class='ui-bar-c ui-shadow'";
	textClas = "class='ui-body-b ui-shadow table-stripe ui-responsive'";
//	dtlClsNm = "";
//	tabClass = "data-role='table'";
//	manBakOp = "data-role='table' class='ui-body-a'";
//	butonCal = "data-role='button' data-inline='true' data-icon='search' value='Calendar'";
//	butonLup = "data-role='button' data-inline='true' data-icon='search' value='Search'";
}
else 
{
	hedClass = "headerBw";
	dtlClass = "class='darkData'";
	selClass = "";
	butonSav = "";
	tabRowHd = "";
	tabRowDt = "";
	textClas = "";
//	dtlClsNm = "darkData";
//	tabClass = "class='main'";
//	manBakOp = "class='mainback' cellpadding=1";
//	butonCal = "class='calendarBtnApp'";
//	butonLup = "class='searchBtnApp'";
}

String  adRwCnJQ = "ui-widget-content",
		thdClsJQ = "class='ui-widget-header'",
		tdtClsJQ = "class='" + adRwCnJQ + "'",
		txtClsJQ = "class='ui-corner-all'";

XssFilter.requestSet(request);

if (jspPagNm.equals("LoginENV") || jspPagNm.equals("PassChngCom") || jspPagNm.equals("PassChngComS") || jspPagNm.equals("ClickAppSTE") || jspPagNm.equals("ClickAppMKT") || jspPagNm.equals("SecretQuesValidate") || jspPagNm.equals("ApprPendSTE"))
{
	pageTypeGl = "GE";
	UtilBean.sessionsSet(session);
}


/*
if (!UtilBean.sessMgmtGet().equals("0"))
{
	msg = "There is another transaction being executed. Please let the transaction complete and then proceed for new process.";
	System.out.println(msg);
	throw new Exception(msg);
}
*/

//System.out.println("Security Com : " + (++dbgSecCn));

if (XssFilter.parSmGet("message") != null)
	msg = XssFilter.parSmGet("message");

if (siteMktg.equals("S"))
{
	isDevSrvGl = KkrSessBean.isDevSrvGet();

	if (pageTypeGl.equals(""))
		pageTypeGl = UserBean.pageTypeGet(pageAddress);
	
	if (ConnBean.getsConn() != null && ConnBean.getsConn().isClosed())
		throw new Exception("Kharia Connection not Found. Please Re-Login");
}
else if (siteMktg.equals("M"))
{
	isDevSrvGl = WebSessBean.isDevSrvGet();

	if (pageTypeGl.equals(""))
		pageTypeGl = log.pageTypeGet(pageAddress);

	if (WebDb.getsConn() != null && WebDb.getsConn().isClosed())
		throw new Exception("Website Connection not Found. Please Re-Login");
}

//System.out.println("loginIdn : " + UserBean.getLoginId() + ", jspPagNm : " + jspPagNm + " pageTypeGl : " + pageTypeGl + " UtilBean.sessMgmtGet() : " + UtilBean.sessMgmtGet()); 
if (pageTypeGl != null && !isDevSrvGl)
{
	/*
	if(jspPagNm.equals("FileUpload"))
		UtilBean.sessMgmtSet("EG");
	*/
//System.out.println("UtilBean.sessMgmtGet() : " + UtilBean.sessMgmtGet()); ChngRqstApprS to be excluded here (31-Aug-22) 
	if ((pageTypeGl.equals("SA") || pageTypeGl.equals("SG") || pageTypeGl.equals("SM") || pageTypeGl.equals("ST")) && (!UtilBean.sessMgmtGet().equals("10") && !(jspPagNm.equals("TallyFlagUpdS") || jspPagNm.equals("ChngRqstApprS") || jspPagNm.equals("DSRActvNewS") || jspPagNm.equals("CascRtlMeetS") || jspPagNm.equals("RtMeetOrdEntS") || jspPagNm.equals("TknSersPrntS") || jspPagNm.equals("ViechleDtlChkS") || jspPagNm.equals("unqiUsrsEnt") || jspPagNm.equals("unqiUsrsEntS") || jspPagNm.equals("ExitSurveyS"))))
	{
		msg = "Please enter data on screen and then press submit to process the request.";
	//	System.out.println(msg);
		throw new Exception(msg);
	}
	else if (!UtilBean.sessMgmtGet().equals("0") && !UtilBean.sessMgmtGet().equals("10"))
	{
		msg = "There is another transaction being executed. Please let the transaction complete and then proceed for new process.";
	//	System.out.println(msg);
		throw new Exception(msg);
	}
}

//System.out.println("siteMktg : 25jan21 " + siteMktg);
//System.out.println("pageTypeGl : " + pageTypeGl);
//System.out.println("pageAddress : " + pageAddress);
if (XssFilter.parSmGet("popupWin") != null)
	popupWin = XssFilter.parSmGet("popupWin");

if (!isDevSrvGl && (pageTypeGl.equals("IS") || pageTypeGl.equals("IT") || pageTypeGl.equals("SA") || pageTypeGl.equals("SB") || pageTypeGl.equals("SG") || pageTypeGl.equals("SM") || pageTypeGl.equals("ST")) && (!jspPagNm.equals("FileUploadS") || !jspPagNm.equals("TallyFlagUpdS")))
{ //|| !jspPagNm.equals("CustProfileUpdSelf")
	String sesRanNoFrn = "",
			sesRanNoSav = (String) session.getAttribute("sesRanNo");
	if (XssFilter.parSmGet("sesRanNo") != null)
		sesRanNoFrn = XssFilter.parSmGet("sesRanNo");

//	System.out.println("XssFilter.parSmGet(sesRanNo) : " + XssFilter.parSmGet("sesRanNo") + " XssFilter.parSmGet(popupWin) : " + XssFilter.parSmGet("popupWin") + " pageTypeGl : " + pageTypeGl + " sesRanNoFrn : " + sesRanNoFrn + " sesRanNoSav : " + sesRanNoSav);

	if (!popupWin.equalsIgnoreCase("Y") && !mobilApp && !sesRanNoFrn.equals(sesRanNoSav)  && 1 != 1)
	{
		throw new Exception ("Do Not open 2 Windows for transactions, else document cannot be saved. Session does not match. Front : " + sesRanNoFrn + " Save : " + sesRanNoSav + ". Please logout properly and login again.");
	}
}

UtilBean.sessMgmtSet(pageTypeGl);
KkrSessBean.systemDtSet(sysDateOnly);
KkrSessBean.setPgAdrReq(pageAddress);

//System.out.println("jspPagNm : " + jspPagNm + " pageTypeGl : " + pageTypeGl + " session.getAttribute(sessStat) 2 : " + session.getAttribute("sessStat"));

if (KkrSessBean.orgnzCodGet().equals("KAT"))
	prodCntrGl = "WC";
else if (KkrSessBean.orgnzCodGet().equals("GRC"))
	prodCntrGl = "GR";
else if (KkrSessBean.orgnzCodGet().equals("BWT"))
	prodCntrGl = "CM";
else
	prodCntrGl = "CO";

cssPathS = (String) session.getAttribute("cssDir");

if(session.getAttribute("clkAppFl") != null)
{
	String clkAppFl = (String) session.getAttribute("clkAppFl");
	if (clkAppFl.equals("Y"))
		session.setAttribute("clkAppFl", "C");
	else if (clkAppFl.equals("C"))
		session.setAttribute("clkAppFl", "D"); // To eliminate effect of HeaderCom.jsp
	else if (clkAppFl.equals("D"))
	{
		session.removeAttribute("clkAppFl");
		response.sendRedirect("/Envr/Login/LogoutCom.jsp?message=" + msg);
	}
}

//if(!saveSuff.equals("S") && !saveSuff.equals("C") && !pageAddress.endsWith("LookUp.jsp") && !popupWin.trim().equalsIgnoreCase("y") && !pageAddress.endsWith("ErrorPage.jsp"))

if(pageTypeGl != null && (pageTypeGl.equals("EA") || pageTypeGl.equals("EM") || pageTypeGl.equals("ET")) && !popupWin.trim().equalsIgnoreCase("y"))
	session.setAttribute("prevPage", pageAddress);

if(pageTypeGl != null && (pageTypeGl.equals("IE") || pageTypeGl.equals("IM") || pageTypeGl.equals("IR") || pageTypeGl.equals("IT") || pageTypeGl.equals("EA") || pageTypeGl.equals("EM") || pageTypeGl.equals("ET") || pageTypeGl.equals("EG") || pageTypeGl.equals("MC") || pageTypeGl.equals("PR") || pageTypeGl.equals("RP") || pageTypeGl.equals("SC") || pageTypeGl.equals("UD") || pageTypeGl.equals("VW") || jspPagNm.equals("LoggedInCom") || jspPagNm.equals("DashBoardHm") || jspPagNm.equals("BankIfscVrJs")  || jspPagNm.equals("AadharVery") || jspPagNm.equals("PanNoVery") || jspPagNm.equals("PassChngCom")) || isDevSrvGl)
{

	if(!jspPagNm.equals("TokenRecdSv"))
	{
// user-scalable=yes
%>
<!DOCTYPE html > 
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, user-scalable=no"  >
	<meta name="Description" content="Birla White SPARSH">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta http-equiv='cache-control' content='no-cache'>
	<meta http-equiv='expires' content='0'>
	<meta http-equiv='pragma' content='no-cache'>
	<link rel="icon" href="/Stat/images/favicon.png" type="image/png" sizes="16x16">
	<script language="JavaScript1.2" src='<%=session.getAttribute("jsDir")%>SessChck.js'></script>
	<script language="JavaScript1.2" src='<%=session.getAttribute("jsDir")%>AcctMlSbValid.js'></script>
<%
	}
}
else
{
	if(!jspPagNm.equals("TokenRecdSv"))
	{
%>
  <script>
//	location.href= "/Envr/JSP/SystemError.html";
  </script>
<%
	}
}

if (siteMktg.equals("S"))
{
	loginIdn = UserBean.getLoginId();
	loginIdM = UserBean.getEmplCode();
	empCoden = UserBean.getEmplCode();
	empArCod = UserBean.getArCode();

	if (!UserBean.isValidRole("Mrktg", false))
		siteEmpl = true;

	if (loginIdn.equalsIgnoreCase("o5577") && (pageTypeGl.equals("IS") || pageTypeGl.equals("IT") || pageTypeGl.equals("MC") || pageTypeGl.equals("SA") || pageTypeGl.equals("SB") || pageTypeGl.equals("SG") || pageTypeGl.equals("SM") || pageTypeGl.equals("ST")))
	{
		UtilBean.sessMgmtRst();
		throw new Exception("You are not authorised to submit the transaction.");
	}

	if (loginIdn.equalsIgnoreCase("o0135"))
		empCoden = "o0135";

	if (XssFilter.parSmGet("htm") == null && session.getAttribute("randomNo") == null && !servletPath.equals("/Envr/JSP/PassChngCom.jsp") && !servletPath.equals("/Envr/JSP/PassChngComS.jsp") && !isDevSrvGl)
	{
		if (!UserBean.pageAllwGet(servletPath))
		{
			msg = "User : " + loginIdn + " is not authorised to view the " + servletPath + " Page.";
//			KkrSessBean.chngRqstIns(msg, "S");
			throw new Exception(msg);
		}
	}

	if(XssFilter.parSmGet("htm") == null && !servletPath.equals("/Envr/JSP/PassChngCom.jsp") && !servletPath.equals("/Envr/JSP/PassChngComS.jsp"))
	{
		if (session.getAttribute("randomNo") == null)
		{
			if (!faMaxDat.equals(""))
				docDtIns = (KkrSessBean.getFincYear().equals(finYrCsh) ? sysDateOnly : GenrlSuper.compDate(sysDateOnly, "31/03/2025") <= 0 ? sysDateOnly : sysDateOnly);
//			if (orgLocCd.equals("1") && (sysDateOnly.equals("28/02/2014") || sysDateOnly.equals("01/03/2014")))
//				logDtIns = "28/02/2014";
//			else
				logDtIns = sysDateOnly;
		}

		if (!pageAddress.equals("/Envr/Login/PwdMailCom.jsp") && !pageAddress.equals("/Intranet/EmplInfo/empMobile.jsp") && !pageAddress.equals("/Envr/JSP/ErrorPage.jsp"))
		{
			if (session.getAttribute("loginId") == null || session.getAttribute("loginId").equals(""))
			{
%>
				<script type="text/javascript" language="javascript">
					alert("Your Session has timed out. Please login again.");
					location.href="/Envr/Login/LogoutCom.jsp";
				</script>
<%
			}
		}
	}
	else
	{
		if(session.getAttribute("styleToBeAdded") != null)
			styleToBeAdded = (String) session.getAttribute("styleToBeAdded");

		if(styleToBeAdded.equals("Y") && !jspPagNm.equals("SalesSummDB"))
		{
			// include file="https://www.birlawhite.com:8080/Envr/css/app.css"

			if(!jspPagNm.equals("BidVsTrgtSl"))
			{
%>
			<!--	<link rel="stylesheet" type="text/css" href="https://www.birlawhite.com:8080/EnvrOld/css/app.css"> -->
			         <link rel="stylesheet" href="/Envr/css/OldCss/app.css">  
					 <link href="/Envr/css/OldCss/app.css" rel="stylesheet" type="text/css">
<%
			}
%>
		<!--	<link rel="stylesheet" href="https://www.birlawhite.com:8080/EnvrOld/css/bootstrap441.css">	 -->
			          <link rel="stylesheet" source="/Envr/css/OldCss/bootstrap441.css">	
			<!-- <script src="https://www.birlawhite.com:8080/Envr/js/jquery341.js"></script>	 
			<script src="https://www.birlawhite.com:8080/EnvrOld/js/bootstrap441.min.js"></script>	
			<script src="https://www.birlawhite.com:8080/EnvrOld/js/popper.js"></script>-->
			<!-- <link rel="stylesheet" type="text/css" href="https://www.birlawhite.com:8080/Envr/css/vendors/styles/core.css?id=jfdkjlsg">
			<link rel="stylesheet" type="text/css" href="https://www.birlawhite.com:8080/Envr/css/vendors/styles/icon-font.min.css">
			<link rel="stylesheet" type="text/css" href="https://www.birlawhite.com:8080/Envr/css/vendors/styles/style.css?id=jfdkjlsg">
			<link rel="stylesheet" type="text/css" href="https://www.birlawhite.com:8080/Envr/css/newApp.css?id=jfdkjlsg">
			<link rel="stylesheet" type="text/css" href="https://www.birlawhite.com:8080/Envr/css/styleNew.css?id=jfdkjlsg"> -->
<%
			session.setAttribute("styleToBeAdded","N");
		}
	}
}
else if (siteMktg.equals("M"))
{
	loginIdM = log.getLoginId();

	if (loginIdM.equalsIgnoreCase("5577") && (pageTypeGl.equals("IS") || pageTypeGl.equals("IT") || pageTypeGl.equals("MC") || pageTypeGl.equals("SA") || pageTypeGl.equals("SB") || pageTypeGl.equals("SG") || pageTypeGl.equals("SM") || pageTypeGl.equals("ST")))
	{
		UtilBean.sessMgmtRst();
		throw new Exception("You are not authorised to submit the transaction.");
	}

	if (loginIdM.equalsIgnoreCase("5577") && (pageTypeGl.equals("RP")))
	{
		UtilBean.sessMgmtRst();
		throw new Exception("You are not authorised to View Data.");
	}

	if(loginIdM == null)
	{
		session.invalidate();
%>
		<script>
			alert("Your session terminated.please login");
			if("<%=mobilApp%>" == "true")
			{
				Android.close('');
			}
			window.opener = self;
			window.close();
		</script>
<%
		return;
	}

	log.setConn(WebDb.getsConn());
	sessionId = log.getDBSessionId().trim();
	userType = log.getUserType();
	loginIdn = log.getLoginIdn();

//	System.out.println("sessionId RJ " + loginIdn + " " + sessionId);
	
	if(sessionId.equals(""))
	{
		log = null;
		session.invalidate();
%>
		<script>
			alert("Please login");
			if("<%=mobilApp%>" == "true")
			{
				Android.close('');
			}
			window.opener = self;
			window.close();
		</script>
<%
		return;
	}

	if(!sessionId.equals(log.sessnIdnGet()))
	{
		log = null;
		session.invalidate();
%>
		<script>
			alert("Someone has logged in with your username");
			if("<%=mobilApp%>" == "true")
			{
				Android.close('');
			}
			window.opener = self;
			window.close();
		</script>
<%
		return;
	}

//	if (!servletPath.equals("/Envr/Login/LoginMKT.jsp") && !servletPath.equals("/Envr/JSP/ErrorPage.jsp") && !servletPath.equals("/Envr/JSP/Logged-inMKT.jsp") && !servletPath.equals("/Envr/JSP/ApprPendMKT.jsp") && !servletPath.equals("/Envr/JSP/ClickAppMKT.jsp"))
	{
		if (!log.pageAllwGet(servletPath) && !isDevSrvGl)
		{
			msg = "User : " + loginIdM + " is not authorised to view the " + servletPath + " Page.";
//			KkrSessBean.chngRqstIns(msg, "S");
			throw new Exception(msg);
		}
	}
}
//System.out.println("SecurityCom End");

%>
