

<!--  -->

<!DOCTYPE html > 
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, user-scalable=no"  >
	<meta name="Description" content="Birla White SPARSH">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta http-equiv='cache-control' content='no-cache'>
	<meta http-equiv='expires' content='0'>
	<meta http-equiv='pragma' content='no-cache'>
	<link rel="icon" href="/Stat/images/favicon.png" type="image/png" sizes="16x16">
	<script language="JavaScript1.2" src='/Envr/js/SessChck.js'></script>
	<script language="JavaScript1.2" src='/Envr/js/AcctMlSbValid.js'></script>

<!-- /BirlaWhite/Mobile/GrcLeadEntry.jsp -->


<script language="javascript">

function refreshed()
{
	document.GrcLeadEntry.method = "POST";
	document.GrcLeadEntry.action = "GrcLeadEntry.jsp";
	document.GrcLeadEntry.submit();
}

function deleter2()
{
	deleterCv("GrcLeadEntry", "abc1", "prjTable", 1);
}

function addrow(prodCode,salesBag,salesQty)
{
	numrows = getNumRows();
	var newRow = insertRowBw(document.all.prjTable);

	name = "abc1";
	m = insertCellBw(newRow);
	m.innerHTML = "<input type = 'checkbox' name = '" + name + "' value = '" + numrows + "'>";

	name = "prodCode" + numrows;
	m = insertCellBw(newRow);
	m.innerHTML = "<select class='form-control' name='" + name + "' id='" + name + "' class='form-control form-control-solid'  value='" + prodCode + "'></select>";
	//m.innerHTML = "<input type='text' name='" + name + "' id='" + name + "' class='form-control form-control-solid' value='" + prodCode + "'>";
	
	name = "salesBag" + numrows;
	m = insertCellBw(newRow);
	m.innerHTML = "<input type='text' name='" + name + "' id='" + name + "' class='form-control form-control-solid' value='" + salesBag + "' onchange=\"return BagConv(" + numrows + ", 'N')\">";
	

	name = "salesQty" + numrows;
	m = insertCellBw(newRow);
	m.innerHTML = "<input type='text' name='" + name + "' id='" + name + "' class='form-control form-control-solid' value='" + salesQty + "' readonly>";


	$("#prjTable").before(numrows);
		eval("document.GrcLeadEntry.prodCode" + numrows).value = prodCode;
		eval("document.GrcLeadEntry.salesBag" + numrows).value = salesBag;
		eval("document.GrcLeadEntry.salesQty" + numrows).value = salesQty;
	if($("select").select2 != null)
		$("select").select2();

	BagConv(numrows,"N");
}

 var upldFlNm ;
//var  upldFlNmDiv;
function photoUpl()
{
	var flUpLnSt = "";
	var docuType = "";
	var filSeqNo = "Img1";


   	if(document.GrcLeadEntry.procType.value == "A")
		upldFlNm = "8C575B3B5558";
	else
	   upldFlNm = "8C575B3B";

	document.GrcLeadEntry.upldFlNm.value = upldFlNm;
//	alert(upldFlNm);
	flUpLnSt = "/Envr/JSP/FileUpload.jsp?popupWin=Y&upDocNum=" + upldFlNm + "&fileDocu=0&fileType=jpg,jpeg&maxmSize=5&filSeqNo=" + filSeqNo + "&attFilTy=00";

	createModal('Image Upload', '' + flUpLnSt + '')
	return true;
}

function areaCodeChange()
{
	console.log("function called 1");
	var rtnValue = districtOpt('GrcLeadEntry', 'areaCode', 'A', '', 'district');
	if (rtnValue == false)
		return false;

	document.GrcLeadEntry.district.onchange = function ()
	{
		fillPinLoc1();
		updateAddressFields();

		console.log("function called");

	}
	createEmptySelect("sitePinC");
	return true;
}

function fillPinLoc1()
{
    console.log("function called 3");
	return pinCodeNOpt('GrcLeadEntry', 'district', '', 'sitePinC');
} 

function photView()
{	
	var imgeView = "";

														
	var atchNmId = "0", atchNmIO = "";
	var filSeqNo = "Img1";

	if(atchNmIO != "")
	{
		atchNmId = atchNmIO;
	}

   	if(document.GrcLeadEntry.procType.value == "A")
		upldFlNm = "8C575B3B5558";
	else
	   upldFlNm = "8C575B3B";

	imgeView = "/Envr/JSP/AtchFileShow.jsp?docuNumb=" + upldFlNm + "&atchNmId=" + atchNmId + "&filSeqNo=" + filSeqNo + "&attFilTy=00";
	createModal('Image Upload', '' + imgeView + '')
}
	
function submitValid()
{
	if(document.GrcLeadEntry.procType.value != "A")
	{
		if(!textValidApp(document.GrcLeadEntry.docuNumb, "Document No", false))
			return false;
	}

	if(!textValidApp(document.GrcLeadEntry.procType, "Process Type", false))
		return false;

	if(!textValidApp(document.GrcLeadEntry.leadDate, "Date", false))
		return false;

	if(!textValidApp(document.GrcLeadEntry.leadQnty, "Qty", false))
		return false;

	if(!textValidApp(document.GrcLeadEntry.siteName, "Site Name", false))
		return false;
	if(!textValidApp(document.GrcLeadEntry.mobileNo, "Mobile No", false))
		return false;
	if(!textValidApp(document.GrcLeadEntry.siteAddr, "Address", false))
		return false;

	confirm("Press OK to save.")
	{
		document.GrcLeadEntry.method = "POST";
		document.GrcLeadEntry.action = "GrcLeadEntryS.jsp";
		document.GrcLeadEntry.submit();
	}
}

function geoLocPnChng(currObjt) 
{
    if (currObjt == "G") 
	{
        if ("false" == "true") 
		{
            chkdc();
           // parseAndDisplayAddress();
        }
    }
	else 
	{
        // Handle Pin Code selection if needed
		//parseAndDisplayAddress();
		 chkdc();
    }
}

function setCust()
{
	document.GrcLeadEntry.concEmpl.value = "";
	if(isEmpty(document.GrcLeadEntry.areaCode.value))
	{
	//	enableDisable("custCode", "D");
		document.getElementById("district").innerHTML = "<select name=''  class='selectpicker' data-style='btn-info' ><option value=''>select</option></select>";
	}
	else
	{
		 fillDistLoc('');
	
	}
}

function fillDistLoc(currObjt)
{
	var wherList = "";
		//wherList = whereAdd(wherList, "SW_06", document.GrcLeadEntry.areaCode.value);
//		wherList = whereAdd(wherList, "SW_02", "12");
	var rtnValue = districtOpt('GrcLeadEntry', 'areaCode', 'A', wherList, 'district');
	if(rtnValue)
	{
		if(currObjt != "")
		{
			if(document.GrcLeadEntry.district !=  null)
				document.GrcLeadEntry.district.value = currObjt.toUpperCase();
		}

		document.GrcLeadEntry.district.onchange = function fillPinCdLoc()
		{
			rtnValue = pinCodeNOpt('GrcLeadEntry', 'district', '', 'retlPinC');
		}
	}

	if(document.GrcLeadEntry.retlPinC.value == "" || document.GrcLeadEntry.retlPinC ==  null)
		createEmptySelect("retlPinC");
}

function retlPinCChang(currObjc)
{
 
	var cityName = splitSelectText(document.GrcLeadEntry.retlPinC)[1];
	
	document.GrcLeadEntry.location.value = cityName;
	document.GrcLeadEntry.cityName.value = cityName;
	document.getElementById("locationDiv").innerText = cityName

	 fillDistLoc(splitSelectText(document.GrcLeadEntry.retlPinC)[2]);

}

function updateAddressFields() {
    const addressString = document.getElementById('retlAdd1').value;

    // Remove any leading or trailing spaces and normalize the address
    const normalizedAddress = addressString.trim().replace(/\s+/g, ' ');

    // Try to match the pincode in the address string
    const pincodeRegex = /\b\d{6}\b/;
    const pincodeMatch = normalizedAddress.match(pincodeRegex);
    let pincode = '';
    if (pincodeMatch) {
        pincode = pincodeMatch[0];
    }

    // Remove the pincode from the address string
    const addressWithoutPincode = normalizedAddress.replace(pincodeRegex, '');

    // Split the address by comma and trim each part
    const parts = addressWithoutPincode.split(',').map(part => part.trim());

    // Extract city, district, and state from the parts
    let city = '';
    let district = '';
    let state = '';
    if (parts.length >= 3) {
        city = parts[0];
        district = parts[1];
        state = parts.slice(2).join(', ');
    } else if (parts.length === 2) {
        city = parts[0];
        state = parts[1];
    } else if (parts.length === 1) {
        city = parts[0];
    }

    // Update the input fields
    document.getElementById('city1').value = city;
    document.getElementById('district1').value = district;
    document.getElementById('pincode1').value = pincode;
    document.getElementById('state1').value = state;
}

</script>

<!-- header display area begin -->






























































<input type="hidden" name="isChrome" id="isChrome" value="N">
<script>
   var isChromej = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
	  
	if(isChromej = true)
	{
	   document.getElementById("isChrome").value= "Y";
	}
	var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';
	var isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);
	var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
	var isAndroid =  /Android/.test(navigator.userAgent);
	var isSafari =  /Safari/.test(navigator.userAgent);
	var isiPhone = /iphone/i.test(navigator.userAgent.toLowerCase());
	var isiDevice = /ipad|iphone|ipod/i.test(navigator.userAgent.toLowerCase());

</script>

	<center>
	 <div id='progressBar' style='width: 10;'>
	<!--	<img src='/Stat/images/works2.gif'>Loading...</img>	-->
	</div> 

	    <!-- Page Loader -->
  <!--  <div class="page-loader-wrapper">
        <div class="loader">
            <div class="preloader">
                <div class="spinner-layer pl-deep-purple">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
       </div>
    </div>
     #END# Page Loader
	 	<div class="pre-loader">
		<div class="pre-loader-box">
			<div class="loader-logo"><img src="/Stat/images/sparsh1.gif" alt=""></div>
			<div class='loader-progress' id="progress_div">
				<div class='bar' id='bar1'></div>
			</div>
			<div class='percent' id='percent1'>0%</div>
			<div class="loading-text">
				Loading...	Please wait
			</div>
		</div>
	</div>		 -->


</center>

<script type="text/javascript" language="JavaScript">
function setProgress()
{
	//var imagPath = '/Stat/images/' + 'cheetah.gif';
	//document.getElementById("progressBar").innerHTML = "<img src='" + imagPath + "'>Loading...</img>";
}

function resetProgress()
{
    setTimeout(function () { $('.page-loader-wrapper').fadeOut(); }, 50);
	document.getElementById("progressBar").innerHTML = "";
}
setProgress();
</script>

<title>GRC Lead Entry</title>
	<link rel="stylesheet" type="text/css" href="/Envr/css/style_shubham.css?id=jfdkjlsg">


		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
		<!--begin::Global Stylesheets Bundle(used by all pages)-->
		<link href="/Envr/assets_kitsune/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
		<link href="/Envr/assets_kitsune/css/style.bundle.css" rel="stylesheet" type="text/css" />	
		<!--end::Page Vendor Stylesheets-->
		<!--begin::Global Stylesheets Bundle(used by all pages)-->
		<link href="/Envr/assets_M38/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
		<link href="/Envr/assets_M38/plugins/custom/vis-timeline/vis-timeline.bundle.css" rel="stylesheet" type="text/css" />
		<link href="/Envr/assets_M38/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
		<link href="/Envr/assets_M38/css/style.bundle.css" rel="stylesheet" type="text/css" />
		<!--end::Global Stylesheets Bundle-->

<!-- Importing XLSX Library for Client-Side Excel Parsing -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

		 <link href="/Envr/css/styleKitune.css?ID=hjsdgsa" rel="stylesheet" type="text/css" /> 

<script src="/Envr/js/jquery341.js"></script>	
	

<script language="javascript1.2" src='/Envr/js/CommonVerify.js?id=dfgdcbxcv'></script>
<script language="javascript1.2" src='/Envr/js/HelpFuncMkt.js?id=dfsgsdfgsdf'></script>
<script language="javascript1.2" src='/Envr/js/HelpFunc.js?id=dsfggsdfgsd'></script>
<script src="/Envr/js/ionicJSCom.js?id=sdkgfgaf"></script>	

<script type="text/javascript" src="/Envr/js/ckeditor/ckeditor.js"></script>
<script type="text/javascript" src="/Envr/js/ckeditor/ckeditInc.js"></script>
<script type="text/javascript" src="/Envr/js/ckeditor/sample.js"></script>
<link type="text/css" href="/Envr/js/ckeditor/sample.css" rel="stylesheet"/>

<script language="javascript1.2">
	setTodayDate("22/08/2025");
	splitChrSet("~");
	splitMltSet("@~@");
	stMkLognSet("M");
	orgnzCodSet("");
	orgLocCdSet("");
	setMobilApp("false");
</script>

</head>
<body id="kt_body" class="page-loading-enabled page-loading header-fixed header-tablet-and-mobile-fixed toolbar-enabled toolbar-fixed " style="--kt-toolbar-height:55px;--kt-toolbar-height-tablet-and-mobile:55px" onload='initSessionTrack()' onunload='handleClose()'>
	<!--begin::loader-->
	<div class="page-loader flex-column">
		<img src="/Stat/images/logo-loading.gif" width="200" height="120" border="0" alt="" class="lodrImag">
		<span class="spinner-border text-primary" role="status"></span>
		<span class="text-muted fs-6 fw-bold mt-5">Loading... Please Wait</span>
	</div>
	<!--end::Loader-->
	<script>
		initSessionTrack();
	</script>

		<div class="d-flex flex-column flex-root">
		<!--begin::Page-->
		<div class="page d-flex flex-row flex-column-fluid">
			<!--begin::Wrapper-->
			<!--begin::Page-->
			<div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
				<!--begin::Header-->
				<div id="kt_header" style="background-color: #4258a2;" class="header align-items-stretch">
					<!--begin::Container-->
					<div class="container-xxl d-flex align-items-stretch justify-content-between">
						<div class="d-flex align-items-center flex-grow-1 flex-lg-grow-0 me-lg-15">
							<a href="/Envr/JSP/LoggedInCom.jsp">
								<img alt="Logo" src="/Envr/assets_kitsune/media/logos/birla-white-logo.png" class="h-20px h-lg-50px Hearder_Logo" />
							</a>
							<!-- -->  
							</div>
						<!--end::Logo-->
						<!--begin::Wrapper-->
						<div class="d-flex align-items-stretch justify-content-between">
							<!--begin::Navbar-->
							<div class="d-flex align-items-stretch" id="kt_header_nav">
								<!--begin::Menu wrapper-->
								<div style="animation-name: fadeInOut, moveLeft300px, bounce;" class="header-menu align-items-stretch" data-kt-drawer="true" data-kt-drawer-name="header-menu" data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true" data-kt-drawer-width="{default:'200px', '300px': '250px'}" data-kt-drawer-direction="end" data-kt-drawer-toggle="#kt_header_menu_mobile_toggle" data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_body', lg: '#kt_header_nav'}">
									<!--begin::Menu-->
									<div  class="menu menu-lg-rounded menu-column menu-lg-row menu-state-bg menu-title-gray-700 menu-state-title-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-400 fw-bold my-5 my-lg-0 align-items-stretch dropdown-toggle-split" id="#kt_header_menu" data-kt-menu="true">
										<script language="JavaScript1.2" src='/menuFile/5558.js'></script>												
										<script>
											document.write(menStrng);
										</script>

									</div>
									<!--end::Menu-->
								</div>
								<!--end::Menu wrapper-->
							</div>
							<!--end::Navbar-->

												<!--begin::Topbar 6-->
							<div class="d-flex align-items-stretch flex-shrink-0">
								<!--begin::Toolbar wrapper-->
								<div class="d-flex align-items-stretch flex-shrink-0">
									<!--begin::Search-->
									<div class="d-flex align-items-stretch ms-1 ms-lg-3">
										<!--begin::Search-->
										<div id="kt_header_search" class="d-flex align-items-stretch" data-kt-search-keypress="true" data-kt-search-min-length="2" data-kt-search-enter="enter" data-kt-search-layout="menu" data-kt-menu-trigger="auto" data-kt-menu-overflow="false" data-kt-menu-permanent="true" data-kt-menu-placement="bottom-end">
											<!--begin::Search toggle-->
											<div class="d-flex align-items-center" data-kt-search-element="toggle" id="kt_header_search_toggle">
												<div class="btn btn-icon btn-active-light-primary w-30px h-30px w-md-40px h-md-40px">
													<!--begin::Svg Icon | path: icons/duotune/general/gen021.svg-->
													<span class="svg-icon svg-icon-1 search-bar">
														<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
															<rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="black" />
															<path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="black" />
														</svg>
													</span>
													<!--end::Svg Icon-->
												</div>
											</div>
											<!--end::Search toggle-->
											<!--begin::Menu 10-->
											<div data-kt-search-element="content" class="menu menu-sub menu-sub-dropdown p-7 w-325px w-md-375px">
												<!--begin::Wrapper-->
												<div data-kt-search-element="wrapper">
													<!--begin::Form-->
													<form name="abcd" data-kt-search-element="form" class="w-100 position-relative mb-3" autocomplete="off">
																					<!--begin::Item-->
															<span id='SMSDummDiv' ></span>
															<input type='hidden' name='SMSDumm' id="SMSDumm" value=''>

														<!--begin::Icon-->
														<span class="svg-icon svg-icon-2 svg-icon-lg-1 svg-icon-gray-500 position-absolute top-50 translate-middle-y ms-0">
															<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
																<rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="black" />
																<path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="black" />
															</svg>
														</span>
														<!--end::Svg Icon-->
														<!--begin::Input-->
														<input type="text" class="form-control form-control-flush ps-10" name="searchSt" id="searchSt" value="" placeholder="Search..." onClick="searchStPop()" onFocus="searchStPop()" onChange="frwrdPag(this.value)" onSelect="frwrdPag(this.value)" data-kt-search-element="input" />
														<!--end::Input-->
														<!--begin::Spinner-->
														<span class="position-absolute top-50 end-0 translate-middle-y lh-0 d-none me-1" data-kt-search-element="spinner">
															<span class="spinner-border h-15px w-15px align-middle text-gray-400"></span>
														</span>
														<!--end::Spinner-->
														<!--begin::Reset-->
														<span class="btn btn-flush btn-active-color-primary position-absolute top-50 end-0 translate-middle-y lh-0 d-none" data-kt-search-element="clear">
															<!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
															<span class="svg-icon svg-icon-2 svg-icon-lg-1 me-0">
																<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
																	<rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black" />
																	<rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black" />
																</svg>
															</span>
															<!--end::Svg Icon-->
														</span>
														<!--end::Reset-->															
													</form>
													<!--end::Form-->
													<!--begin::Separator-->
													<div class="separator border-gray-200 mb-6"></div>
													<!--end::Separator-->
													<!--begin::Recently viewed-->
													<div data-kt-search-element="results" class="d-none">
														<!--begin::Items-->
														<div class="scroll-y mh-200px mh-lg-350px">
															<div id="searchStDiv"></div>
														</div>
													</div>
												</div>
												<!--end::Wrapper-->
											</div>
											<!--ENd::Menu-->
										</div>
										<!--end::Search-->
									</div>
									<!--end::Search-->
								</div>
								<!--end::Search-->
							</div>
							<!--end::Search-->
			

 <div class="spanEmplNmDv d-flex align-items-center ms-1 ms-lg-3 ">
							 <div class="btn btn-icon btn-active-light-primary position-relative w-30px h-30px w-md-40px h-md-40px" id="kt_drawer_chat_toggle"> 
								<span class="svg-icon svg-icon-1">
									<!-- <img src="/Envr/assets/media/icons/duotune/text/txt001.svg" width="" height="" border="0" alt=""> -->
									<i class="bi bi-list text-hover-primary" title="List" style="font-size: 1.7rem "></i>
								</span>
								</div>
							 </div>



			<div class="d-flex align-items-center ms-1 ms-lg-3">
			 <div class="btn btn-icon btn-active-light-primary position-relative w-30px h-30px w-md-40px h-md-40px"  onClick="bookMark('A', '')"> 
				<span class="svg-icon svg-icon-1" id="favrtMenu">
					
					<!-- <img src="/Envr/assets/media/icons/duotune/text/txt001.svg" width="" height="" border="0" alt=""> -->
					<i class="bi bi-bookmarks-fill text-hover-primary  "  title="Bookmark"  style="font-size: 1.7rem "; ></i>
				</span>
			 </div>
			</div>

			<!--begin::Notifications-->
			<div class="d-flex align-items-center ms-1 ms-lg-3 ">
				<!--begin::Menu- wrapper-->
				<div class="btn btn-icon btn-icon-muted btn-active-light btn-active-color-primary w-30px h-30px w-md-40px h-md-40px" data-kt-menu-trigger="{default:'click', lg: 'hover'}" data-kt-menu-attach="parent" data-kt-menu-placement="bottom-end">
					<!--begin::Svg Icon | path: icons/duotune/general/gen022.svg-->
					<span class="svg-icon svg-icon-1">
						<!-- <i class="bi bi-bell"></i> -->
						<i class="fas fa-bell badge-wrapper icon-button">
						  <!-- <span class='number'>0</span> -->
						  <span class="icon-button__badge"></span>
						</i>
					</span>
					<!--end::Svg Icon-->
				</div>
				<!--begin::Menu-->
				<div class="menu menu-sub menu-sub-dropdown menu-column w-350px w-lg-375px" id="menusub" data-kt-menu="true">
					<!--begin::Heading-->
					<div class="d-flex flex-column bgi-no-repeat rounded-top" style="color:red	;background-color:#1b84ff;">
						<!--begin::Title-->
						<h3  class="text-white fw-bold px-10 mt-5 mb-3">Notifications
						       <span class="fs-8 opacity-75 ps-3">0 reports</span> 
						</h3>
						
						<!--end::Title-->
						<!--begin::Tabs-->
						<ul class="nav nav-line-tabs nav-line-tabs-2x nav-stretch fw-bold px-9">
							<li class="nav-item ">
								<!-- <a class="nav-link text-white opacity-75 opacity-state-100 pb-4" data-bs-toggle="tab" href="#kt_topbar_notifications_1">Alerts</a> -->
							</li>
						</ul>
						<!--end::Tabs-->
					</div>
					<!--end::Heading-->
					<!--begin::Tab content-->
					<div class="tab-content">
						<!--begin::Tab panel-->
						<div class="tab-pane fade active show" id="kt_topbar_notifications_1" role="tabpanel">
							<!--begin::Items-->
							<div class="scroll-y mh-325px">
								
							</div>
							<!--end::Tab panel-->
							<!--begin::View more-->
							<div class="py-3 text-center border-top">
								<a href="/BirlaWhite/General/MsgNotifRep.jsp" class="btn btn-color-gray-600 btn-active-color-primary">View All
								<!--begin::Svg Icon | path: icons/duotune/arrows/arr064.svg-->
								<span class="svg-icon svg-icon-5">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
										<rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor" />
										<path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor" />
									</svg>
								</span>
								<!--end::Svg Icon--></a>
							</div>
							<!--end::View more-->
						</div>
						<!--end::Tab panel-->
					</div>
					<!--end::Tab content-->
				</div>
				<!--end::Menu-->
			</div>
			<!--end::Notifications-->

		<div class="d-flex align-items-center ms-1 ms-lg-3">
    <div class="btn btn-icon btn-active-light-primary position-relative w-30px h-30px w-md-40px h-md-40px" 
        data-kt-menu-trigger="click" data-kt-menu-attach="parent" data-kt-menu-placement="bottom-end">
        <span class="svg-icon svg-icon-1">
            <img src="/Envr/assets/media/icons/duotune/general/gen022.svg" 
                width="24" height="24" border="0" alt="" 
                id="QckMnImge" onload="replace_image(this, 'srcALNo', '', '')">
        </span>
    </div>
    <div class="menu menu-sub menu-sub-dropdown menu-column w-350px w-lg-375px" data-kt-menu="true">
        <div class="d-flex flex-column bgi-no-repeat rounded-top" style="background-color: #1b84ff;">
            <h3 style="background-color:#1b84ff ;" class="text-white fw-bold px-10 mt-5 mb-3">Favourite Menu<span class="fs-8 opacity-75 ps-3"></span></h3>
            <ul style="background-color: #1b84ff;" class="nav nav-line-tabs nav-line-tabs-2x nav-stretch fw-bold px-9">
      <!--     <li class="nav-item"> 
                    <a class="nav-link text-white opacity-75 opacity-state-100 pb-1" data-bs-toggle="tab" href="#kt_topbar_bookmark">
                        <u>Bookmark</u>
               <!-- </a> -->
                </li>
            </ul>
        </div>
        <div class="menu menu-column w-350px w-lg-375px text-dark opacity-75">
            <div class="tab-pane fade show active" id="kt_topbar_notifications_2" role="tabpanel">
                <div style="background-color: #ffffff;" class=""> <!--d-flex flex-column px-12 me-n5 pe-5-->
                    <div class="scroll-y mh-325px"> <!-- made it 525px -->
                        <div style="background-color: #ffffff;" class=" flex-stack py-4 px-6"> <!-- removed d-flex class -->
                            <div class="pt-1 pb-0">
                                <div class="text-center mt-3 "> <!-- removed class bcz it gives downside margin mb-9 -->
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
			<!--  End for favourite menu  -->
			<!--begin::Heaeder menu toggle-->
			<div class="d-flex align-items-center d-lg-none ms-2 me-n3" title="Show header menu">
				<div class="btn btn-icon btn-active-light-primary w-30px h-30px w-md-40px h-md-40px" id="kt_header_menu_mobile_toggle">
					<!--begin::Svg Icon | path: icons/duotune/text/txt001.svg-->
					<span class="svg-icon svg-icon-1">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
							<path d="M13 11H3C2.4 11 2 10.6 2 10V9C2 8.4 2.4 8 3 8H13C13.6 8 14 8.4 14 9V10C14 10.6 13.6 11 13 11ZM22 5V4C22 3.4 21.6 3 21 3H3C2.4 3 2 3.4 2 4V5C2 5.6 2.4 6 3 6H21C21.6 6 22 5.6 22 5Z" fill="black" />
							<path opacity="0.3" d="M21 16H3C2.4 16 2 15.6 2 15V14C2 13.4 2.4 13 3 13H21C21.6 13 22 13.4 22 14V15C22 15.6 21.6 16 21 16ZM14 20V19C14 18.4 13.6 18 13 18H3C2.4 18 2 18.4 2 19V20C2 20.6 2.4 21 3 21H13C13.6 21 14 20.6 14 20Z" fill="black" />
						</svg>
					</span>
					<!--end::Svg Icon-->
				</div>
			</div>
			<!--begin::Topbar-->
			<div class="d-flex align-items-stretch flex-shrink-0">
			<!-- User Info Start -->
				<div class="d-flex align-items-center ms-1 ms-lg-3 flexRev" id="kt_header_user_menu_toggle">
					<div class="cursor-pointer symbol symbol-30px symbol-md-40px " data-kt-menu-trigger="click" data-kt-menu-attach="parent" data-kt-menu-placement="bottom-end">
						&nbsp&nbsp<img src="" alt="user" id="logoImge" onerror="rplcImgWthNew(this, '/Envr/assets/media/svg/avatars/001-boy.svg')"/>&nbsp&nbsp
					</div><!--  -->
					<span style="color: #ffffff;" class="spanEmplNmDv"><b>Ashish Sikhwal</b><br/>
						
					</span>
					<div style="color: blue; background-color:rgb(71,188,254);" class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg menu-state-primary fw-bold py-4 fs-6 w-275px" data-kt-menu="true">
						<div class="menu-item px-3">
							<div class="menu-content d-flex align-items-center px-3">
								<!--begin::Avatar-->
								<div class="symbol symbol-50px me-5">
									<img alt="Logo" id="emplLogo" src="" onerror="rplcImgWthNew(this, '/Envr/assets/media/svg/avatars/001-boy.svg')"/>
								</div>
								<!--end::Avatar-->
								<!--begin::Username-->
								<div class="d-flex flex-column">
									<div class="fw-bolder d-flex align-items-center fs-5"><b>Ashish Sikhwal</b></div>
									<i class="bi bi-pencil fs-7 text-hover-primary" data-bs-toggle="tooltip" title="Change Profile Photo" onclick='createModal("Profile Update", "/Intranet/Employee/Info/empProfUpdtSnap.jsp?popupWin=Y")'>Edit Profile Photo</i>
									<a href="#" class="fw-bold text-muted text-hover-primary fs-7"></a>
									
								</div>
								
								<!--end::Username-->
							</div>
						</div>
						<div class="separator my-2"></div>


						<div class="menu-item px-5">
							<a style = "color: black;"href="/Envr/JSP/LoggedInCom.jsp" class="menu-link px-5">
								<span  class="menu-text">Home Page</span>
							</a>
						</div>
						<div class="menu-item px-5">
							<a  style = "color: black;" href="/Envr/Login/LogoutCom.jsp" class="menu-link px-5 menu-text">Log Out</a>
						</div>
					</div>
				</div>
			<!--end::User Info -->
		</div>
	<!--End::Topbar-->
	</div>
</div>
</div>

	<!--begin::Chat drawer-->
<div style="background-color: #dbd7d7;" id="kt_drawer_chat" class="bg-body" data-kt-drawer="true" data-kt-drawer-name="chat" data-kt-drawer-activate="true" data-kt-drawer-overlay="true" data-kt-drawer-width="{default:'300px', 'md': '650px'}" data-kt-drawer-direction="end" data-kt-drawer-toggle="#kt_drawer_chat_toggle" data-kt-drawer-close="#kt_drawer_chat_close">
  <div style="background-color: #ffffff;" class="card w-100 rounded-0" id="kt_drawer_chat_messenger">
    <!--begin::Card header-->
    <div style="background-color: #1b84ff;" class="card-header pe-5" id="kt_drawer_chat_messenger_header">
      <div style="background-color: #1b84ff;" class="card-title">
        <div style="background-color: #1b84ff;" class="d-flex justify-content-center flex-column me-3">
          <a style="background-color: #1b84ff;" href="#" class="fs-4 fw-bolder text-white  me-1 mb-2 lh-1">Old Menu</a>
          <div style="background-color: #1b84ff;" class="mb-0 lh-1">
            <span class="badge badge-success badge-circle w-10px h-10px me-1"></span>
            <span style="color: black;" class="fs-7 fw-bold text-muted">Active</span>
          </div>
        </div>
      </div>
      <div style="background-color: #1b84ff;" class="card-toolbar">
        <div style="background-color: #aliceblue;" class="btn btn-sm btn-icon btn-active-light-primary" id="kt_drawer_chat_close">
          <span style="background-color: #aliceblue;" class="svg-icon svg-icon-2">
            <img style="background-color: #aliceblue;" src="/Envr/assets/media/icons/duotune/arrows/arr061.svg" width="" height="" border="0" alt="">
          </span>
        </div>
      </div>
    </div>
    <!--end::Card header-->
    <!--begin::Card body-->
    <div style="color: black;" class="card-body svg" id="kt_drawer_chat_messenger_body_st">
      <!--begin::Messages-->
      <div style="background:#ffffff;  height=100%;" class="box_scroll me-n3 pe-6 text-dark" data-kt-element="messages" data-kt-scroll="true" data-kt-scroll-activate="true" data-kt-scroll-height="80%" data-kt-scroll-dependencies="#kt_drawer_chat_messenger_header, #kt_drawer_chat_messenger_footer" data-kt-scroll-wrappers="#kt_drawer_chat_messenger_body" data-kt-scroll-offset="0px">
        <header style="color: saddlebrown;" class="site-header site-header--menu-left dynamic-sticky-bg mt-2 mt-lg-0 menu-block-4 mb-7 mb-lg-0 site-header--absolute site-header--sticky">
          <nav style="background-color: #ffffff;" class="navbar site-navbar text-dark">
            <div style="background-color: #1b84ff;" class="menu-block-wrapper text-dark">
              <div style="background-color: gray;" class="menu-overlay text-dark"></div>
              <nav style="background-color: 1b84ff;" class="menu-block text-dark" id="append-menu-header text-dark">
                <div style="background-color: gray;" class="mobile-menu-head">
                  <div class="go-back">
                    <i class="fa fa-angle-right"></i>
                  </div>
                  <div class="current-menu-title1"></div>
                  <div style="background-color: aliceblue;" class="mobile-menu-close">&times;</div>
                </div>
					<script language="JavaScript1.2" src='/menuFile/5558Old.js?id=ghgjh'></script>												
					<script>
					if(menStrngOld != null)
						document.write(menStrngOld);
					</script>

                <div id="menuContOld">
                </div> <!-- -->
              </nav>
            </div>
          </nav>
        </header>
      </div>
      <!--End::Messages-->
    </div>
    <!--end::Card body-->
    <!--begin::Card footer-->
    <!--end::Card footer-->
    <!--end::Messenger-->
  </div>
</div>


	

	<!-- <script language="JavaScript1.2" src='/menuFile/5558Old.js?id=ghgjh'></script> -->

	<script language="JavaScript1.2" type="text/javascript">
		
	if (false || false)
	{

	}
	else
	{
	 /*
		sessionStorage.menuCont = null;
		if (sessionStorage.menuCont != null)
		{
				alert("Session Storage" + sessionStorage.menStrng);
			document.getElementById("menuCont").innerHTML = menStrng;
			if("false" == "false")
				document.getElementById("menuContOld").innerHTML = menStrngOld;
		}
		else
		{
			document.getElementById("menuCont").innerHTML = menStrng;
			if("false" == "false")
				document.getElementById("menuContOld").innerHTML = menStrngOld;
		}
	*/
	}
</script>

  <div style="background: linear-gradient(233deg, rgb(87 152 247 / 80%), rgba(255, 0, 0, 0) 70.71%), linear-gradient(64deg, #b0bef9, rgba(0, 255, 0, 0) 70.71%), linear-gradient(45deg, rgb(151 221 249 / 80%), rgba(0, 0, 255, 0) 70.71%);" class="content d-flex flex-column flex-column-fluid" id="kt_content"> <!--background-color:#f3f6f9-->
    <!--begin::Toolbar-->
    <div style="background-color:#ffffff; border-radius:2px;" class="toolbar" id="kt_toolbar">
      <!--begin::Container-->
      <div style="background-color:#ffffff;" id="kt_toolbar_container" class="container-xxl d-flex flex-stack">
        <!--begin::Page title-->
        <div style="background-color:#ffffff;" data-kt-swapper="false" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}" class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
          <!--begin::Title-->
          <h1 class="d-flex align-items-center text-dark fw-bolder fs-3 my-1"> GRC Lead Entry</h1>
          <!--end::Title-->
        </div> 

        <!--end::Page title-->
        <!--begin::Actions-->
        <div class="d-flex align-items-center py-1">
		 
          <ul class="breadcrumb breadcrumb-separatorless fw-bold fs-7 my-1">
            <!--begin::Item-->
			
            <li class="breadcrumb-item text-muted">
				<a style = "color: blue;" href="/Envr/JSP/LoggedInCom.jsp" class="text-muted text-hover-primary primary-button-home">Home</a>
             
            
            </li>
            <li class="breadcrumb-item text-muted">
              <a style = "color: silver;" href="/Envr/Login/LogoutCom.jsp" class="text-muted text-hover-primary primary-button-logout">Log Out<i class="fa-solid fa-right-from-bracket"></i></a>
            </li>
            <!--end::Item-->
            <!--begin::Item-->
            <!-- <li class="breadcrumb-item"> -->
            <!-- <span class="bullet bg-gray-200 w-5px h-2px"></span> -->
           <!-- </li> -->
            <!--end::Item-->
            <!--begin::Item-->
            <!--<li class="breadcrumb-item text-dark">GRC Lead Entry</li> -->
            <!--end::Item--> 
          </ul>
        </div>
        <!--end::Actions-->
      </div>
    </div>

<script>
var currentTime = new Date("May 10, 2024 10:00:00");

function updateCountdown() 
{
    var now = new Date(); 
    var timeRemaining = (currentTime.getTime() + 96 * 60 * 60 * 1000) - now.getTime();

    if (timeRemaining <= 0) 
	{
        clearInterval(countdownInterval);
        return;
    }

    var hours = Math.floor(timeRemaining / (1000 * 60 * 60));
    var minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

    document.getElementById("countdown").innerHTML = hours + "h " + minutes + "m " + seconds + "s ";
}
updateCountdown();

var countdownInterval = setInterval(updateCountdown, 1000);

function readNotif(docuNumb, readFlag, upflPath, userCode)
{
	if(docuNumb != "")
		var dataRecv = notfReadAjax('abcd', 'SMSDumm', userCode, docuNumb); 

	if(upflPath != "")
		window.location.href = upflPath + "?docuNumb="+docuNumb;
}

async function displSav(msg) 
{
	return Swal.fire(
	{
		title: 'Do you want to save the changes? <br> ' + msg,
		showCancelButton: true,
		icon: "warning",
		buttonsStyling: !1,
		closeOnClickOutside: false, 
		confirmButtonText: 'OK',
		/*denyButtonText: `Don't save`,*/
		allowOutsideClick: () => false,
		customClass: {
			confirmButton: "btn btn-primary",
			cancelButton: "btn btn-light"
		}
	}).then((result) => 
	{
	  /* Read more about isConfirmed, isDenied below */
	  if (result.isConfirmed) 
	  {
		frmSubmt(true);
	  } 
	})
}
async function displSavRtn(msg, funcNam) 
{
	return Swal.fire(
	{
		title: msg,
		showDenyButton: true,
		showCancelButton: true,
		icon: "warning",
		buttonsStyling: !1,
		closeOnClickOutside: false, 
		confirmButtonText: 'With OTP',
		denyButtonText: 'Without OTP',
		allowOutsideClick: () => false,
		customClass: 
		{
			confirmButton: "btn btn-primary",
			cancelButton: "btn btn-secondary",
			denyButton: "btn btn-light"
		}
	}).then((result) => 
	{
	  /* Read more about isConfirmed, isDenied below */
	  if (result.isConfirmed) 
	  {	
		 if(funcNam == "ADHOTP")
			adhGetFlg(true);
	  }
	  else
	  {
		 if(funcNam == "ADHOTP")
			adhGetFlg(false);
	  }
	})
}
async function displDel(msg) 
{
	return Swal.fire(
	 {
		title: 'Press OK for Delete Current row. <br> ' + msg,
		showCancelButton: true,
		icon: "danger",
		buttonsStyling: !1,
		closeOnClickOutside: false, 
		confirmButtonText: 'Save',
		dangerMode: true,
		/*  denyButtonText: `Don't save`, */
		allowOutsideClick: () => false,
		customClass: {
		confirmButton: "btn btn-primary",
		cancelButton: "btn btn-light"
	}
	}).then((result) => 
	{
	  /* Read more about isConfirmed, isDenied below */
	  if (result.isConfirmed) {
		frmDelt(true);
	  } 
	})
} 
/*	*/
async function displAlert(msg) 
{
	Swal.fire({
		text: msg,
		icon: "warning",
		buttonsStyling: !1,
		confirmButtonText: "Ok",
		customClass: {
			confirmButton: "btn btn-primary"
		}
	})
}

async function displErr(msg) 
{
	return Swal.fire(
	{
		text: msg,
		icon: "error",
		buttonsStyling: !1,
		confirmButtonText: "Ok",
		customClass: {
			confirmButton: "btn btn-primary"
		}
	})
}

async function displSuc(msg) 
{
	return Swal.fire({
		title: msg,
		icon: "success",
		buttonsStyling: !1,
		/*timer: 5000,*/
		confirmButtonText: "Ok",
		customClass: {
			confirmButton: "btn btn-primary"
		}
	})
}

if("false" == "false" && "" != "Y")
{

}
if("" != "H")
{

	var pageAddrArr = new Array(),
		pageNameArr = new Array();

	function searchStPop()
	{
		if (pageNameArr.length == 0)
		{
			var srcFldNm = "searchSt",
				tgtFldNm = "searchStDiv";

			var queryCod = "",
				wherList = "",
				rqstType = "G";

			if ("M" == "S")
			{
				queryCod = "ST_00167";

				wherList = whereAdd(wherList, "SW_01", "");
				wherList = whereAdd(wherList, "SW_02", 'Y');
				wherList = whereAdd(wherList, "SW_03", "");
				wherList = whereAdd(wherList, "SW_04", 'N');
			}
			else
			{
				queryCod = "MK_00091";

				/*wherList = whereAdd(wherList, "SW_01", "");*/
				wherList = whereAdd(wherList, "SW_02", 'Y');
				wherList = whereAdd(wherList, "SW_03", "5558");
				wherList = whereAdd(wherList, "SW_04", 'N');
			}

			rtnValue = setPrmNew("abcd", srcFldNm, queryCod, rqstType, "DN", wherList, tgtFldNm);

			if (!rtnValue)
				return false;

			var pageDetlArr = document.getElementById(tgtFldNm).innerText.split("~~");

			document.getElementById(tgtFldNm).innerText = "";

			for (var i=0; i<pageDetlArr.length; i++)
				{
				var pageArr = pageDetlArr[i].split(splitChr);
				pageAddrArr[i] = pageArr[0];
				pageNameArr[i] = "" + i + splitChr + pageArr[1];
			}
			$( "#searchSt" ).autocomplete(
			{
				source: pageNameArr
			});
		}

		return true;
	}
	 
	function frwrdPag(objValue)
	{
		arrayIdn = objValue.split(splitChr);
		pageAddr = pageAddrArr[arrayIdn[0]];
		if (pageAddr != null && pageAddr != "")
			location.href = pageAddr;
	}


	$(function() 
	{
		var Accordion = function(el, multiple) {
			this.el = el || {};
			this.multiple = multiple || false;

			var links = this.el.find('.link');
			links.on('click', {el: this.el, multiple: this.multiple}, this.dropdown)
		}

		Accordion.prototype.dropdown = function(e) 
		{
			var $el = e.data.el;
				$this = $(this),
				$next = $this.next();

			$next.slideToggle();
			$this.parent().toggleClass('open');

			if (!e.data.multiple) {
				$el.find('.submenu').not($next).slideUp().parent().removeClass('open');
			};
		}	

		var accordion = new Accordion($('#accordion'), false);
	});
}

</script>

<iframe id="sessionActivFrm" scrolling="no" height="5" width="5px" src="" frameborder="none"></iframe>

<script language="javascript">
function sessionVarReinit()
{
	abc = setInterval("sessionVarReinitLop()", 300000);
}

function sessionVarReinitLop()
{
	document.getElementById("sessionActivFrm").src = "/Intranet/Employee/BioMet/PageRefresh.jsp";
	reinitSessionVar();
}

if("false" == "true")
	sessionVarReinit();


	if("false" != "true" && "" != "Y")
	{
		if("" != "H")
		{
			var image = document.getElementById("appLogoSprash");
			var currentPos = 0;
			var images = ["/Stat/images/birlawhite.png", "/Stat/images/ultraTech_New_Logo.JPG"]

			function volgendefoto() 
			{
				if (++currentPos >= images.length)
					currentPos = 0;

				image.src = images[currentPos];
			}
		}
	}

  function createModal(fileName, urlValue)
  {
		document.getElementById("modlHead").innerHTML = fileName;
		document.getElementById("iframeSrc").src = urlValue;
		$('#kt_modal_ComnAl').modal('show');
		var iframe = document.getElementById('iframeSrc');
		var style = document.createElement('style');
		style.textContent =
		  'form {' +
		  ' margin-top: 10px !important;padding: 0px !important;' +
		  ' margin-right: 0px !important; margin-left: 5px !important;' +
		  '}' 
		;
		iframe.contentDocument.head.appendChild(style);
  }

  function iframeLoad()
  {
	  var ifrmUrl = document.getElementById("iframeSrc").src;
	  if((ifrmUrl.indexOf("AtchFileShow.jsp")) > 0)
	  {
		$("#iframeSrc").contents().find('body').find('img').addClass("myClass");
		$("#iframeSrc").contents().find('body').append('<link rel="stylesheet" type="text/css" href="/Envr/css/style.css">');
	  }
  }

  function PDFFileView(fileName, urlValue)
  {
	document.getElementById("modlHeadPd").innerHTML = "PDF";
	/*
	document.getElementById("iframeSrc").src = urlValue;
	document.getElementById("iframeSrc").style.display = 'none';
	document.getElementById("pdfFileView").src = urlValue;
	alert(urlValue);
	*/
	pdfFilView(urlValue);
	$('#kt_modal_ComnAl_PDF').modal('show');
  }
  function presentLoading()
  {
	console.log("Lodder Start");
  }
  function dismissLoader()
  {
	console.log("Lodder dismis");
  }

  function dismissModal()
  {
	$('#kt_modal_ComnAl').modal('hide');
  }

function bookMark(insDelFl, jspPagNm)
{
		
	var loginIdn = "";
	var siteMktg = "M";
	var msgeText = "Do You want to add in Bookmark.",
		tostData = "Sucessfully bookmarked.";
	if("M" == "M") 
		loginIdn = "5558";		
	
	if("N" == "Y" || insDelFl == "D")
	{
		siteMktg = siteMktg + "D";
		msgeText = "This page is Already added in Bookmarks. Do You want to Delete then press OK.";
	}
	
	if(jspPagNm == "")
		jspPagNm = "GrcLeadEntry";

	if(confirm(msgeText))
	{
		otpSmsRdRit_Post(loginIdn, jspPagNm, "", "Y", "fvrtMenu", siteMktg, "", "favrtMenu");	
		toastDispl(tostData, "Favourite Menu");
		window.location.href  = 'https://' + window.location.hostname + window.location.pathname + window.location.hash;
	}
}
	</script>

<!------------------------------------------ HR Survey Pulse -------------------------------------->

<!---------------------------------------- Hr Pulse Survey Ends -------------------------------------->

<style>

.flex-stack {
    justify-content: space-between;
    align-items: center;
    background-color: #DFF1F1;
}

.badge-primary {
    color:#ffffff;
    background-color: #1b84ff;
  }
     
     </style>

<div class="post flex-column-fluid" id="kt_post">
  <!--begin::Container-->
  <div id="kt_content_container" class="container-fluid">
    <!--begin::Row-->
<style>
    /* Keyframes for Content */
    @keyframes colorChangeContent {
      0% { background-position: 0% 0%; }
      50% { background-position: 100% 0%; }
      100% { background-position: 0% 100%; }
    }

    /* Table Styles */
    table.dataTable > tbody > tr.child span.dtr-title {
      display: table-cell !important;
      min-width: 75px !important;
      font-weight: 700 !important;
    }

    /* Content Styles */
content {
  width: 200px;
  height: 200px;
  background: linear-gradient(45deg, #F9F7E9, #F1F1F1, #F9F7E9);
  cursor: pointer;
  transition: background-color 5s ease-out 100ms;
  overflow: hidden;
   border: 1px double orange;
}

.countdown-container {
    text-align: center;
	color:red;
}

#countdown 
{
    font-size: 15px;
	font-weight:bold;
}



/* Sub Menu Styles */
.site-menu-main .sub-menu 
{
    position: absolute;
    z-index: 500;
    background: linear-gradient(179deg, #1b84ff, #76ceff, #1b84ff);
    padding: 30px;
    margin-top: 25px;
    border-radius: 40px;
    border-color: darkgray;
}

/* Card Styles */
.card {
    padding: 10px;
    background: #faf9f9;
    border: linen;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
    transition: transform 0.20s ease; /* Add smooth transition on hover */
}

input[readonly].form-control-readonly
{

 background-color: #E0D7D7;
 color: Black;
}


h1::before {  
  transform: scaleX(0);
  transform-origin: bottom right;
}

h1:hover::before {
  transform: scaleX(1);
  transform-origin: bottom left;
}



/* Print Styles */
@media print {
    #kt_header, #kt_footer, #kt_toolbar {
        display: none !important;
    }

    #printId {
        display: block !important;
    }
}

/* Select2 Styles */
.select2 .readOnlyTxt {
    pointer-events: none;
    touch-action: none;

    .select2-selection {
        background: #e0e0e0;
        box-shadow: none;
    }

    .select2-selection__arrow,
    .select2-selection__clear {
        display: none;
    }
}

/* Map Styles */
#map-canvas {
    height: 600px;
}
.flex-stack {
    justify-content: space-between;
    align-items: center;
    background-color: #ffffff; /*#f8f7f4*/
}

/* Legend Styles */
#legend {
    font-family: "Times New Roman", Times, serif;
    background: #fff;
    padding: 10px;
    margin: 10px;
    border: 3px solid #333;
}

#legend h3 {
    margin-top: 0;
}


#legend img {
    vertical-align: middle;
}

/* Form Control Styles */
.form-control.form-control-solid,
.form-select.form-select-solid,
.input-group.input-group-solid .input-group-text {
    border-color: #aebfc5 !important;
}

/* DataTables Scroll Styles */
.dataTables_scroll {
    overflow: auto;
}

 .menu-sub-lg-dropdown {
    background: linear-gradient(45deg, #f8f7f4, #fce5cd, #f8f7f4);
	overflow: unset;
  }


/* Home Button */
 .primary-button-home{
 	background-color: #1b84ff;
	border-radius: 6px;
	font-weight: 500;
	color: white !important;
	padding: 8px 16px;
	transition: 0.2s ease-out;
	box-shadow: 0 0 2px #577592;
	opacity: 0.9;
 }

 .primary-button-home:hover{
 	background-color:white;
 }

/* Log Out Button */
  .primary-button-logout{
 	background-color: #1b84ff;
	border-radius: 6px;
	font-weight: 500;
	color: white !important;
	padding: 8px;
	transition: 0.2s ease-out;
	box-shadow: 0 0 2px #577592;
	opacity: 0.9;
 }

  .primary-button-logout:hover{
 	background-color:white;
 }
/* changed home and log out font size when opening profile*/
 .menu-text{
	font-size:13px;
 }

 /*changed dynamic created navbar options colour  to 100% white according to theme */
 .menu-title-gray-700 .menu-item .menu-link .menu-title {
    color: #ffffff;
}

/*changed dynamic created navbar options colour on hover to 100% white according to theme */
.menu-state-bg .menu-item:not(.here) .menu-link:hover:not(.disabled):not(.active):not(.here) {
    transition: color 0.2s ease, background-color 0.2s ease;
    background-color: rgb(255 255 255);
}

/*changed background of drill down menu bar on header menu*/
.menu-sub-lg-dropdown {
    background: linear-gradient(179deg, #1b84ff, #76ceff, #1b84ff);
    overflow: unset;
}

/* changed hover colour of cards when hover on them*/
 .bg-hover-light:hover{
	--bg-color:245,248,250;
	background-color:#cce1ff !important;
}

.card .card-body, .card-body{
padding:0px;
padding-top:40px;
}

/* changed logo of change request */

.link-to-portfolio {
    position: fixed;
    bottom:30x;
    right: 30px;
    z-index: 200;
    cursor: pointer;
    width: 65px;
    height: 45px;
    text-align: center;
    /* border-radius: 20px; */
    /* background-position: center center; */
    background-size: cover;
    background-image: url(/Stat/images/change-request.png);
    /* box-shadow: 0 0 0 2px rgba(12,12,12,.1); */
    /* transition: opacity .2s, border-radius .2s, box-shadow .2s; */
    transition-timing-function: ease-out;
}
.link-to-portfolio:hover 
{
	opacity: 1;
	border-radius: 35%;
	border:none;
	transform: scale(1.4);
	transition: all 200ms linear;
	transition-delay: 0.2s
}  
#tablistPrd .nav-item 
{
    min-width: 100px;
    text-align: center;
    padding-right: 0px;
    border: 1px solid;
    box-shadow: 0 2px 2px 2px rgba(0, 0, 0, 0.2);



	.search-bar
	{
		fill: #ffffff !important;
	}
}

.svg-icon svg [fill]:not(.permanent):not(g)
{
    transition: fill 0.3s ease;
    fill: #fff;
}

i 
{
    color: #fff !important;
}

.site-menu-main .nav-link-item 
{
    color: #fff;
}

.menu-sub-lg-dropdown {
    background: #465a9d;
}

@media (max-width: 786px) 
{
	.menu-item 
	{
		display: block;
		padding: 0;
		background: #6d4c5a;
		color: #fff;
	}
}
@media (max-width: 576px) {
	.menu-item {
		display: block;
		padding: 0;
		background: #47bcfe;
		color: #fff;
	}
	.form-control.form-control-solid, .form-select.form-select-solid, .input-group.input-group-solid .input-group-text {
		border-color: #aebfc5 !important;
		min-width: 80px;
	}
}

.optional {
  color: #6c757d; /* Adjust color as needed */
  font-size: 0.8rem; /* Adjust font size as needed */
}
.btn-group, .btn-group-vertical {
    position: relative;
    display: inline-block;
}

.Hearder_Logo 
{
    background: #fff;
    padding: 5px;
} 
/*
form
{
	background-image: linear-gradient(to bottom right, #00e5ff, #009ef7); 
	padding-top:20px;
	padding-left:20px;
}
*/
@media (min-width: 1400px) {
    .container, .container-lg, .container-md, .container-sm, .container-xl, .container-xxl {
        max-width: 1500px !important;
    }
}
</style>

<script>
 isAndroid = /Android/.test(navigator.userAgent);
</script>
<!-- HEADER DISPLAY AREA ENDS -->
<form name="GrcLeadEntry">
    <div class="card card-xl-stretch p-6" ontouchstart="updateAddressFields()">
        <div class="row p-6">
            <h1 class="header-bw" align="center"> Process Details </h1>
            <div class="col-md-4">
                <label class="required">Define Onsite/Offsite</label>
                <select name="siteType" id="siteType" onchange="refreshed()" value="">
                    <option value=''>Select</option><option value='O'>Onsite</option><option value='F'>Offsite</option>
                </select>
            </div>
            <div class="col-md-4">
                <label class="required">Process Type</label>
                <select name="procType" id="procType" onchange="refreshed()" value="">
                    <option value=''>Select</option><option value='A' selected>Add</option><option value='U'>Update</option>
                </select>
            </div>
	

<div class="col-md-4">
    <label>lead Date</label>
    <input type="text" value="" name="leadDate" id="leadDate" onChange="return isDate(this, false, '')" onClick="showCal('GrcLeadEntry','leadDate')">	<br>
</div>
<div class="col-md-4">
    <label class="required">lead Qty</label>
    <input type="text" value="" name="leadQnty" id="leadQnty" required><br>
</div>
<div class="col-md-4">
    <label class="optional">Unit of Measurement</label><span class="optional">(optional)</span>
    <select name="leadMsrs" id="leadMsrs"> <option value=''>Select</option><option value='F2'>Feet Squre</option><option value='FT'>Feet</option><option value='M2'>Meter Squre</option><option value='NO'>Numbers</option><option value='RF'>Running Ft</option> </select><br>
</div>


<div class="col-md-4">
    <label class="required">Project Name</label>
    <input type="text" value="" name="siteName" id="siteName" required> <br>
</div>
<div class="col-md-4">
	<label class="">Delivery Period </label>
	<select id="delvrPrd" name="delvrPrd" value=""><option value=''>Select</option><option value='01-03 month'>01-03 month</option><option value='04-06 month'>04-06 month</option><option value='07-12 month'>07-12 month</option><option value='over 12 month'>over 12 month</option></select>
</div>
<div class="col-md-4">
	<label class="">Kind of project </label>
	<select id="prjctKnd" name="prjctKnd" value=""><option value=''>Select</option><option value='residence / bunglow'>residence / bunglow</option><option value='religious'>religious</option><option value='hotel'>hotel</option><option value='hospital'>hospital</option><option value='Govt. Project'>Govt. Project</option><option value='Commercial Project'>Commercial Project</option><option value='high rise'>high rise</option><option value='land scaping'>land scaping</option><option value='educational institute'>educational institute</option><option value='Others'>Others</option></select>
</div>
<div class="col-md-4">
    <label class="required">Project Address</label>
    <input type="text" value="" name="siteAddr" id="siteAddr" required>
</div>
<div class="col-md-4">
    <label class="optional">Contact Person</label><span class="optional">(optional)</span>
    <input type="text" value="" maxlength="10" name="stMobNum" id="stMobNum"><br>
</div>
<div class="col-md-4">
	<label class="">Contact Person Type </label>
	<select id="cntPrsnt" name="cntPrsnt" value=""><option value=''>Select</option><option value='Owner'>Owner</option><option value='builder'>builder</option><option value='contractor'>contractor</option><option value='architect'>architect</option><option value='construction company'>construction company</option></select>
</div>
<br>
<div class="col-md-4">
    <label class="required">Architect Name:</label>
    <input type="text" value="" name="archtNam" class="required" id="archtNam" required> <br>
</div>
<div class="col-md-4">
    <label class="required">Mobile No</label>
    <input type="text" value="" maxlength="10" name="mobileNo" id="mobileNo" required>
</div>
<div class="col-md-4">
    <div class="d-flex flex-column mb-5 fv-row">
        <label class="d-flex align-items-center fs-5 fw-bold mb-2">Email</label>
        <input type='text' name='emailAdd' id="emailAdd" size='40' class="form-control" value='' maxlength='40' >
    </div>
</div>
<br>
<h1 class="header-bw" align="center">Buyer Detail</h1>
<div class="col-md-4" id="gstDiv">
    <div class="d-flex flex-column mb-5 fv-row">
        <label class=" d-flex align-items-center fs-5 fw-bold mb-2">GST Number </label>
        <input type='text' name='gstnNumb' id="gstnNumb" placeholder="GSTIN" size='30' class="form-control" maxlength="15" value="">        
        <div style="display:none" id="gstnNumbDiv"></div>
    </div>
</div>
<div class="col-md-4" id="panDiv">
    <div class="d-flex flex-column mb-5 fv-row">
        <label class=" d-flex align-items-center fs-5 fw-bold mb-2">PAN NO  </label>
        <input type="text" size="10" maxlength="10" name="itxPanNo" id="itxPanNo" class="form-control" placeholder="PAN" value="">
        <input type="hidden" name="itxPanNoH" id="itxPanNoH" value="">
        <div id="itxPanNoDiv"></div>
    </div>
</div>
<div class="col-md-4" id="panDiv">
    <div class="d-flex flex-column mb-5 fv-row">
        <label class=" d-flex align-items-center fs-5 fw-bold mb-2">AADHAR NO  </label>
        <input type="text" size="10" maxlength="12" name="adhrNumb" id="adhrNumb" class="form-control" placeholder="AADHAR" value="">
        <input type="hidden" name="adhrNumb" id="adhrNumb" value="">
        <div id="adhNoDiv"></div>
    </div>
</div>
<div class="col-md-4">
    <label class="required">Remarks</label>
    <input type="text" value="" name="siteRmrk" id="siteRmrk" required>
</div>
</div>
<div class="mt-5" align="center">
<label class="control-label"> Upload Aadhar
    <input type='button' name='uplodBtn' class='coloredBtnBig' value='Upload Image' onClick="openUpldWind('6881.10881599757', '', '', '.5',  'A', '00')"></td>
    <input type="hidden" name="drawRand" value="6881.10881599757">
	<td><script language='javascript'>document.write(atchFileShowJS('6881.10881599757', 0, '', 'A'))</script>
</label>
<label class="control-label"> Upload PAN
    <input type='button' name='uplodBtn' class='coloredBtnBig' value='Upload Image' onClick="openUpldWind('6881.10881599757', '', '', '.5',  'B', '00')"></td>
    <input type="hidden" name="drawRand" value="6881.10881599757">
	<td><script language='javascript'>document.write(atchFileShowJS('6881.10881599757', 0, '', 'B'))</script>
</label>
<label class="control-label"> Upload Drawing
    <input type='button' name='uplodBtn' class='coloredBtnBig' value='Upload Image' onClick="openUpldWind('6881.10881599757', '', '', '.5',  'C', '00')"></td>
    <input type="hidden" name="drawRand" value="6881.10881599757">
	<td><script language='javascript'>document.write(atchFileShowJS('6881.10881599757', 0, '', 'C'))</script>
</label>
<label class="control-label"> Upload GST
    <input type='button' name='uplodBtn' class='coloredBtnBig' value='Upload Image' onClick="openUpldWind('6881.10881599757', '', '', '.5',  'D', '00')"></td>
    <input type="hidden" name="drawRand" value="6881.10881599757">
	<td><script language='javascript'>document.write(atchFileShowJS('6881.10881599757', 0, '', 'D'))</script>
</label>
</div>


<div style="display: none;">
	<!-- LocaCapture Start -->
	<script src="/Envr/js/sweetalert2.js"></script>

		<input type="hidden" name="geoLatit" id="geoLatit" value="">
		<input type="hidden" name="geoLongt" id="geoLongt" value="">
		<input type="hidden" name="latlng" id="latlng" value="">
		<input type="hidden" name="FinlRslt" id="FinlRslt" value="">


<script src="/tmp/geoTag/js/geoPosition.js" type="text/javascript" charset="utf-8"></script>
<script>
var lat, lng, address;
var isAndroid =  /Android/.test(navigator.userAgent);

function initiate_geolocation() 
{
	navigator.geolocation.getCurrentPosition(handle_geolocation_query);
}

function handle_geolocation_query(position)
{
	lat = position.coords.latitude;	//To
	document.getElementById("geoLatit").value = lat; 
	lng = position.coords.longitude;
	document.getElementById("geoLongt").value = lng;
}
/*
function GetAddress() 
{
	var latlng = new google.maps.LatLng(lat, lng);
	var geocoder = geocoder = new google.maps.Geocoder();

	geocoder.geocode({ 'latLng': latlng }, function (results, status) 
	{
		if (status == google.maps.GeocoderStatus.OK) 
		{
			if (results[1]) 
			{
				address = results[1].formatted_address;
				document.getElementById("FinlRslt").value = address; 
				$("#finlRsltDiv").show();
			}
		}
		else 
		{
			$("#finlRsltDiv").hide();
		//	alert("Geocoder failed due to: " + status + " Please Enable Location");
		}

	});
}
*/

var mylatlng = "";
function pinCodeNoGet()
{
	var srcFldNm = "retlPinC",
		rtnValue = false,
		tgtFldNm = "retlPinCDiv";
		
	    var edValue = document.getElementById("retlPinC").value;
	
	//	alert(edValue);
	//	pinCodVlAp(edValue, "retlPinC");

		var	queryCod = "",
				wherList = "",
				rqstType = "G";

		queryCod = "MK_00005";
		wherList = whereAdd(wherList, "SW_01", "Y");

		//alert(edValue);
		
		wherList = whereAdd(wherList, "SW_05", edValue);
		rtnValue = setPrmNew("GrcLeadEntry", srcFldNm, queryCod, rqstType, "DN", wherList, tgtFldNm);
		
	//	alert(rtnValue);
		
		if (!rtnValue)
		{
	//		dismissLoader();
			return false;
		}
		var pageDetlArr = document.getElementById(tgtFldNm).innerText.split("~~");
		
//		alert(pageDetlArr);
		
		document.getElementById(tgtFldNm).innerText = "";

		wherList = "";
		wherList = whereAdd(wherList, "SW_05", edValue);
		var dataArr	= pageDetlArr[0].split("~");

		if(pageDetlArr[0] != "")
		{
			//380009~Ashram Road S.O~AHMEDABAD~AHD
			document.GrcLeadEntry.district.value = dataArr[2];
			document.GrcLeadEntry.areaCode.value = dataArr[3];
		//	document.GrcLeadEntry.stateGeo.value = dataArr[3];
			fillDistLoc(dataArr[2]);
			document.getElementById("retlPinC").value = dataArr[0];
		}
	//	pinCodeNOpt('GrcLeadEntry', 'district', wherList, 'retlPinC');
	//	jQuery('#areaCode').selectpicker('refresh');

	 //	 return rtnValue;
	//	dismissLoader();
} 
function getLocation() 
{
	var withAlNm = withAlNm + 1;
//	alert("1");
	var getLocan = Android.trunOnGPSLoca();
	
	setTimeout(function()
	{
		var AndroidVL = Android.setLatLong();
	//	alert(AndroidVL);
		document.getElementById("latlng").value = AndroidVL;

		if(document.getElementById("latlng").value == "")
		{
			initialiseMap();initialise();
		}
		
		var latlng = AndroidVL.split(",");
	//	var latlng = "";

		document.getElementById("geoLatit").value =    latlng[0];
		document.getElementById("geoLongt").value = 	latlng[1];

		//	mylatlng = 	{lat: 26.6062318, lng: 73.6853633};
		//	document.getElementById("latlng").value = "26.6062318,73.6853633";
			mylatlng = 	{lat: parseFloat(latlng[0]), lng: parseFloat(latlng[1])};
		
		GetAddress();
		var map = new google.maps.Map(document.getElementById("map"), 
		{
			zoom: 18,
	//	    center = bounds.getCenter(),

			center: mylatlng
		});
		var geocoder = new google.maps.Geocoder;
		var infowindow = new google.maps.InfoWindow;
		var marker = new google.maps.Marker({position: mylatlng, map: map});
		var infoWindow = new google.maps.InfoWindow(
		//        {content: '', position: mylatlng}
		);
		geocodeLatLng(geocoder, map, infowindow);
			// Configure the click listener.
	}, 3000);
}

function getLocationScript() 
{
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } 
  
}

function showPosition(position) 
{
	document.getElementById("latlng").value = position.coords.latitude + "," + position.coords.longitude;
	document.getElementById("geoLatit").value =     position.coords.latitude;
	document.getElementById("geoLongt").value = 	position.coords.longitude;

		mylatlng = 	{lat: position.coords.latitude, lng: position.coords.longitude};

	var map = new google.maps.Map(document.getElementById("map"), 
	{
		zoom: 18,
//	    center = bounds.getCenter(),

		center: mylatlng
	});
	var geocoder = new google.maps.Geocoder;
	var infowindow = new google.maps.InfoWindow;
	var marker = new google.maps.Marker({position: mylatlng, map: map});
	var infoWindow = new google.maps.InfoWindow(
    //        {content: '', position: mylatlng}
	);

		infoWindow.open(map);
				map.addListener('click', function(mapsMouseEvent) 
				{
				  // Close the current InfoWindow.
				  infoWindow.close();

				  // Create a new InfoWindow.
				  infoWindow = new google.maps.InfoWindow({position: mapsMouseEvent.latLng});
				  infoWindow.setContent(mapsMouseEvent.latLng.toString());
				
				  document.getElementById("googleValue").innerHTML = mapsMouseEvent.latLng.toString();
					
				   maulValuAsn(mapsMouseEvent.latLng.toString());

				  infoWindow.open(map);
				});	
		geocodeLatLng(geocoder, map, infowindow);
        // Configure the click listener.             
}

function initialiseMap()
{
	/*
	var myOptions = {
		  zoom: 4,
		  mapTypeControl: true,
		 // mapTypeControlOptions: {style: google.maps.MapTypeControlStyle.DROPDOWN_MENU},
		  navigationControl: true,
		//  navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},
//			      mapTypeId: google.maps.MapTypeId.ROADMAP      
		}	
	map = new google.maps.Map(document.getElementById("map"), myOptions);
	*/
}
function initialise()
{
	//alert("1");
	var withAlNm = withAlNm + 1;
	if(geoPosition.init())
	{
		document.getElementById('current').innerHTML="Receiving...";
		geoPosition.getCurrentPosition(showPositionNew,function(){document.getElementById('current').innerHTML="Couldn't get location"},{enableHighAccuracy:true});
	}
	else
	{
		document.getElementById('current').innerHTML="Functionality not available";
	}
}

function showPositionNew(p)
{
	var latitude = parseFloat( p.coords.latitude );
	var longitude = parseFloat( p.coords.longitude );
	document.getElementById('current').innerHTML="latitude=" + latitude + " longitude=" + longitude;

	document.getElementById("geoLatit").value = latitude;
	document.getElementById("geoLongt").value = longitude;

	var pos=new google.maps.LatLng( latitude , longitude);
	map.setCenter(pos);
	map.setZoom(14);
	
	var infowindow = new google.maps.InfoWindow({
		content: "<strong>yes</strong>"
	});

	var marker = new google.maps.Marker({
		position: pos,
		map: map,
		title:"You are here"
	});
	
	displMap();

	google.maps.event.addListener(marker, 'click', function() {
	  infowindow.open(map,marker);
	});
}

function GetAddress() 
{
	var input = document.getElementById('latlng').value;
	var latlngStr = input.split(',', 2);
//	var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};

	var latlng = new google.maps.LatLng(parseFloat(latlngStr[0]), parseFloat(latlngStr[1]));
	var geocoder = geocoder = new google.maps.Geocoder();

	geocoder.geocode({ 'latLng': latlng }, function (results, status) 
	{
		if (status == google.maps.GeocoderStatus.OK) 
		{
		//	alert(JSON.stringify(results))
			if (results[1]) 
			{
				GetAddressLocl(results);
			}
		}
		else 
		{
			alert("Geocoder failed due to: " + status + " Please Enable Location");
		}

	});
}  
function GetAddressLocl(resulObj) 
{
	//alert("Get Address " + resulObj);
	//var resulObj = "";

	//alert(JSON.parse(resulObj[1].address_components));
	var addrlgth = JSON.parse(JSON.stringify(resulObj[1].address_components)).length;
	var jsonObjt = JSON.parse(JSON.stringify(resulObj[1].address_components));

	var rtnValue = rtnPinCodNo(addrlgth, jsonObjt);
//	alert(rtnValue);
	
//	alert(resulObj.formatted_address);
	
	pinCodVlAp(rtnValue, "retlPinC");
	document.getElementById("retlPinC").value =  rtnValue;
	//pinCodeNoGet();
	//fillDistLoc();
	jsonObj = []; 
	var i = 0;

	for (i = 0; i < resulObj.length; i++)
	{
		addreesArr = {}
		addreesArr = resulObj[i].formatted_address;
	//	alert(addreesArr);
		//addreesArr = i;

		 jsonObj.push(addreesArr);
	}
	addrDropDwn(jsonObj, resulObj);
	
//	alert("resulObj[0]postal_code : " + JSON.parse(JSON.stringify(resulObj[1])));
//	document.getElementById("FinlRslt1").innerText = JSON.stringify(resulObj[1]); 
}
function createJSON() 
{
    jsonObj = [];
    $("input[class=email]").each(function() {

        var id = $(this).attr("title");
        var email = $(this).val();

        item = {}
        item ["title"] = id;
        item ["email"] = email;

        jsonObj.push(item);
    });

    console.log(jsonObj);
}
async function addrDropDwn(jsonObj, resulObj)
{
//	alert("Func : " + JSON.stringify(resulObj));
	var i = 0;

	const { value: fruit } = await Swal.fire({
	  title: 'Select Correct Address',
	  input: 'select',
	  allowOutsideClick:false,
	  allowEscapeKey:false,
	  heightAuto:true,
	  inputOptions: 
	  {
		'Address':jsonObj
	  },
	  inputPlaceholder: 'Select Address',
	 // showCancelButton: true,
	  inputValidator: (value) => 
	  {
		return new Promise((resolve) => 
		{
		  if (value != '') 
		  {
			 document.getElementById("finlAddr").innerText = resulObj[value].formatted_address;//JSON.stringify(); 
			 document.GrcLeadEntry.retlAdd1.value = resulObj[value].formatted_address;//JSON.stringify(); 
			 document.GrcLeadEntry.FinlRslt.value = resulObj[value].formatted_address;//JSON.stringify(); 
			 resolve()
		  } 
		  else 
		  {
				resolve('Please Select atleast one Address.')
		  }
		})
	  }
	})

//	if (fruit) {
//	  Swal.fire(`You selected: `)
//	}
}
function rtnPinCodNo(addrlgth, jsonObjt)
{
	var i = 0;

	for (i = 0; i < addrlgth; i++)
	{
	  	if(jsonObjt[i]["types"] == "postal_code")
		{
			if(jsonObjt[i]["long_name"] == jsonObjt[i]["short_name"])
				return jsonObjt[i]["long_name"];
			else
				return jsonObjt[i]["short_name"];
		}
	}
}

if(isAndroid.matches)
{
	setTimeout(function()
	{
		getLocation();
	}, 3000);
}
else if("false" == "true")
{
	setTimeout(function()
	{
		initialiseMap();initialise();
	});	
}

if("false" == "true")
{
	$(function()
	{
		setTimeout(function()
		{
			if(document.getElementById('geoLatit').value == "" || document.getElementById('geoLongt').value == "") 
				initialiseMap();initialise();
		}, 8000);

	});	
}

</script>

<!-- LocaCapture End -->
 
</div>

	<div class="mt-5" align="center">
		<input type="button" name="btnSaveExit" value="Submit" class="coloredBtn" onClick="return submitValid()">
	</div>
</div>
























































	<script>var hostUrl = "assets/";</script>
	<!--begin::Javascript-->
	<!--begin::Global Javascript Bundle(used by all pages)-->
	<script src="/Envr/assets_kitsune/plugins/global/plugins.bundle.js"></script>
	<script src="/Envr/assets_kitsune/js/scripts.bundle.js"></script>

	<!--end::Global Javascript Bundle-->
	<!--begin::Page Custom Javascript(used by this page)-->
	<script src="/Envr/assets_kitsune/js/custom/widgets.js"></script>
	<script src="/Envr/assets_kitsune/js/custom/apps/chat/chat.js"></script>
	<script src="/Envr/assets_kitsune/js/custom/modals/create-app.js"></script>
	<script src="/Envr/assets_kitsune/js/custom/modals/upgrade-plan.js"></script>

	<!-- <script src="/Envr/js/bootstrap441.min.js"></script>
	<script src="/Envr/assets/plugins/global/plugins.bundle.js"></script>
	<script src="/Envr/assets/js/scripts.bundle.js?id=kghklhkl"></script> -->
	<!--begin::Global Javascript Bundle(used by all pages)-->
	<!-- --> 
	<script src="/Stat/jquery-ui-1.12.1.custom/jquery-ui.js"></script>
	<script type="text/javascript" src="/tmp/webcamjs/webcam.js"></script>

	<script language="JavaScript">

    if("" == "Y")
	{
		$("table").addClass("table table-striped table-row-bordered gy-5 gs-7 border rounded");
	}
	</script>

<input type="hidden" name="popupWin" value="">
<input type="hidden" name="sesRanNo" value='0.6773167436798405'>


						<a onClick="window.open('/Intranet/IT/ChngRqst/ChngRqstEntry.jsp?pageAddr=/BirlaWhite/Mobile/GrcLeadEntry.jsp&popupWin=y', '', 'left=420, top=300, width=775, height=450, scrollbars=no, resizable=no, menubar=no, location=no, toolbar=no')"  class="link-to-portfolio" href="#" accessKey="R" title="Click Here for Enter Change Request">
						<!-- <font color="white"><h2>Change <u>R</u>equest to IT</h2></font> --></a>
					</div>
				</div>
			</form>
		 </div>
	 </div>
</div>
			<div style="background-color:#92b0ff;" class="footer py-4 d-flex flex-lg-column   new_footer_area bg_color" id="kt_footer">
				<!--begin::Container-->
				<div class="container-xxl d-flex flex-column flex-md-row align-items-center justify-content-between" style="font-size: 14px;font-family: monospace;">
					<!--begin::Copyright-->
					<div class="text-dark order-3 order-md-2">
						<p style = "color:white;" href="#" target="_blank" class="text-blue-800 ">Developed by : IT Birla White <span style="color:red;">&#10084; &#65039; </span> </p> 

					</div>
					
							<p style="color: white; " id = "currentTime" class="menu-link px-2"> </p> 
						
					<!--begin::Footer-->
					<!--begin::Menu-->
					<ul class="menu menu-gray-600 menu-hover-primary fw-bold order-1">
					
					<!--<li class="menu-item">
						<b>	<a style= "color:black;"href="/Envr/JSP/LoggedInCom.jsp" class="menu-link px-2"><u> Home </u> </a> </b>
						</li>
						<li class="menu-item">
						<b>	<a style= "color:black;" href="/Envr/Login/LogoutCom.jsp" class="menu-link px-2"> <u> Log Out </u> </a> </b>
						</li> -->
						<li class="menu-item">
						<b>	<a style= "color:white;"href="https://www.birlawhite.com" target="_blank" class="menu-link px-2 text-hover-primary">  Website  </a> </b>	
						</li>
						
							
					</ul>

					<!--end::Menu-->
				</div>
				<!--end::Container-->
			</div>
			<!--end::Footer-->
		</div>
		<!--end::Wrapper-->
	</div>
	<!--end::Page-->
</div>
</div>
</div>
		<!--end::Page-->
	</div>
</div>

</body>
</html>

  <div id="camBox" style="width:100%;height:100%;display:none">
	<!--POPUP DIALOG BOX TO SHOW LIVE WEBCAM.-->
	<div class="revdivshowimg" style="top:20%;text-align:center;margin:0 auto;">
		<div id="camera" style="height:auto;text-align:center;margin:0 auto;"></div>
		<p>
			<input type="button" value="Ok" id="btAddPicture"  onclick="addCamPicture()" /> 
			<input type="button" value="Cancel"  onclick="document.getElementById('camBox').style.display = 'none';" />
		</p>
		<input type="hidden" id="rowid" />
		<input type="hidden" id="dataurl" />
	</div>
 </div> 

<script>
addCamPicture = function()
{
//	presentLoading();
	var rowid = document.getElementById('rowid').value;
	Webcam.snap(function (data_uri) 
	{
		document.getElementById('div_' + rowid).innerHTML = 
			'<img src="' + data_uri + '" id="imageprev' + rowid + '" width="220px" height="150px" />';
		  webimageUplod(rowid, data_uri);
	});
	document.getElementById('rowid').value = '';
	document.getElementById('camBox').style.display = 'none';       // HIDE THE POPUP DIALOG BOX.
}

 if(window.location.pathname + window.location.hash != "/Intranet/General/GenerRep/GenerRepFld.jsp")
 {
	$("select").each(function()
	{
		placeholder: "Select an option",
		$(this).attr('data-control', 'select2'),
		$(this).attr('placeholder', 'Select an option')
		allowClear: true
	})
	$("input[type=text]").each(function()
	{
		//placeholder: "Select an option",
		$(this).attr('data-toggle', 'tooltip')
	})
 }

setTimeout(function()
{
	if($("select").select2 != null)
	{
		
		//$("select").select2({allowClear: true,placeholder: 'Select an option'});
		//console.log($("select").attr("multiple"));
		$("select").each(function()
		{
			if(typeof this.attributes['multiple'] != 'undefined')
			{
				$(this).select2({closeOnSelect: false,allowClear: true,placeholder: 'Select an option'});
				multiSelctinti(this);
			}
		})
	}
}, 500);

$("select").on('select2:select', function() 
{
	multiSelctinti(this);
})
$("select").on('select2:open', function() 
{
	multiSelctinti(this);
})
$("select").on('select2:close', function() 
{
	multiSelctinti(this);
})
$("select").on('select2:unselect', function() 
{
	multiSelctinti(this);
})

function multiSelctinti(currObjt)
{
  let select = $(currObjt)
  $(currObjt).next('span.select2').find('ul').html(function() {
    let count = select.select2('data').length
    return "<li>" + count + " options selected</li>"
  })
}

//$("select").on("select2:close", function (e) { log.console("select2:close", e); });	  
if("" == "ProInvPrint")
{

}
else
{
	addClassCmn();
}

$(document).ready(function() 
{
  $(document).on('select2:open', function()
  {

	//  document.querySelector('.select2-search__field').focus();

    //  $('.select2-search__field').prop('focus', false);
		//$('.select2-search__field').prop('focus', false);
  });
});
function getBase64Image(img) {
    var canvas = document.createElement("canvas");
    canvas.width = img.width;
    canvas.height = img.height;

    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0);

    var dataURL = canvas.toDataURL("image/png");

    return dataURL.replace(/^data:image\/(png|jpg);base64,/, "");
}

function fetchimage () 
{
    var dataImage = localStorage.getItem('imgData');
 	var img = document.getElementById('emplLogo');
	if(dataImage == null || dataImage == "data:,")
		proFlImgVw();
	else
		img.src = "data:image/png;base64," + dataImage;
    // If you don't process the url with getBase64Image, you can just use
    // img.src = dataImage;
}
async function proFlImgVw()
{
	await atchFileShowJSPf("S5558", "0", "", "", "07", "emplLogo", "logoImge");
//	console.log("Fetching Image End");
//	console.log("Start");
	var img = document.getElementById('emplLogo');
	localStorage.setItem("imgData", getBase64Image(img));
//	console.log("End");
}
proFlImgVw ();
$(function(){
  $('[data-toggle="tooltip"]').tooltip();
});

toastr.options = {
  "closeButton": true,
  "debug": false,
  "newestOnTop": false,
  "progressBar": true,
  "positionClass": "toastr-top-center",
  "preventDuplicates": true,
  "showDuration": "300",
  "hideDuration": "1000",
  "timeOut": "5000",
  "extendedTimeOut": "1000",
  "showEasing": "swing",
  "hideEasing": "linear",
  "showMethod": "fadeIn",
  "hideMethod": "fadeOut"
};

function toastDispl(tostData, tostHead)
{
	toastr.info(tostData, tostHead);
}

function comnCss()
{
	$('.main').addClass('card card-xl-stretch p-6');
	$('.mainback').addClass('card card-xl-stretch p-6');
	$('.main').addClass('card card-xl-stretch p-6');
//	$('form').addClass('was-validated');
	$('.coloredBtn').addClass('btn btn-primary me-5 mb-2');
	//$('button').addClass('btn btn-primary me-5 mb-2');
	$('.coloredBtnBig').addClass('btn btn-primary me-5 mb-2');
	$('.ColoredBtnBig').addClass('btn btn-primary me-5 mb-2');
	$('.coloredBtnSmall').addClass('btn btn-primary me-5 mb-2');
	$('Form .container-fluid').addClass('container-xxl card card-xl-stretch p-6');
	$('Form .container').addClass('card card-xl-stretch p-6');
	$('Form ').addClass(' gy-5 g-xl-10');
	$('Form .container-fluid').removeClass('container-fluid');
	$('table .mainback').addClass('card card-xl-stretch p-6');

//	if(document.getElementById('prjTable') != null &&  document.getElementById('prjTable').rows[0].cells.length > 10)
		$('#kt_content_container').addClass('container-fluid').removeClass('container-xxl');
}


function showTime() 
{
    // Set the time zone to Indian Standard Time (IST)
    const options = { timeZone: 'Asia/Kolkata', day: '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' };
    
    // Get the current time in IST
    const currentTime = new Date().toLocaleString('en-US', options);

    // Display the current time
    document.getElementById('currentTime').innerHTML = currentTime;
}

// Call the function initially
showTime();

// Update the time every second
setInterval(function () 
{
    showTime();
}, 1000);


/*
const list = document.getElementsByTagName("div")[0];
const list = document.getElementsByClassName("example")[0];
list.getElementsByClassName("child")[0].innerHTML = "Milk";
 */
//profilImgVw();
</script>
<style>
body
{
      background-color:rgb(255,255,255);
}
@media (min-width: 992px)
.header-fixed .header {
    position: fixed;
    top: 0;
    right: 0;
    left: 0;
    z-index: 100;
    background-color: #d6c1e3;
    height: 65px;
    padding: 0;
			  }
.page-loader, .clsMeCls
{
	display: none !important;
} 
.redcss{
	color:#fff !important;
	background:#dc143c !important;
}
.greencss
{
	color:#fff !important;
	background:#008000 !important;
}
.bg-danger, .bg-success {
    color: #fff;
}
.bg-danger {
    background-color: #dc3545 !important;
}
.bg-danger, .bg-success {
    color: #fff;
}

.bg-success {
    background-color: #28a745 !important;
}

</style>



	<!--begin::Modal - Offer A Deal-->
		<div class="modal fade" id="kt_modal_ComnAl" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" tabindex="-1" aria-hidden="true">
			<!--begin::Modal dialog-->
			<div class="modal-dialog modal-dialog-centered mw-800px">
				<!--begin::Modal content-->
				<div class="modal-content">
					<!--begin::Modal header-->
					<div class="modal-header py-7 d-flex justify-content-between">
						<!--begin::Modal title-->
						<h2 id="modlHead"></h2>
					<!--end::Modal title-->
				</div>
				<!--begin::Modal header-->
				<!--begin::Modal body-->
				<div class="modal-body scroll-y" id="modalBody">
					<!--begin::Stepper-->
					<div class="stepper stepper-links d-flex flex-column" id="kt_modal_offer_a_deal_stepper">
						<iframe src="" id="iframeSrc" width="100%" height="420px" onload="iframeLoad()"></iframe>
					</div>
					<!--begin::Stepper finlSbt()-->
				</div>
				<!--begin::Modal body-->
				<div class="modal-footer">
					<button type="button" class="btn btn-light" data-bs-dismiss="modal" id="clsBtn">Close</button>
				</div>
			</div>
		</div>
		</div>

	<!--begin::Modal - PDF View-->
		<div class="modal fade" id="kt_modal_ComnAl_PDF" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" tabindex="-1" aria-hidden="true">
			<!--begin::Modal dialog-->
			<div class="modal-dialog modal-dialog-centered mw-800px">
				<!--begin::Modal content-->
				<div class="modal-content">
					<!--begin::Modal header-->
					<div class="modal-header py-7 d-flex justify-content-between">
						<!--begin::Modal title-->
						<h2 id="modlHeadPd"></h2>
						<!--end::Modal title-->
					</div>
					<!--begin::Modal body-->
					<div class="modal-body scroll-y">
						<!--begin::Stepper-->
						<div class="stepper stepper-links d-flex flex-column" id="kt_modal_offer_a_deal_stepper">
							 <div id="my_pdf_viewer">
								<div id="canvas_container">
									<canvas id="pdf_renderer"></canvas>
								</div>
							</div>
						</div>
						<!--begin::Stepper finlSbt()-->
					</div>
					<!--begin::Modal body-->
						<div  class="row">
							<div class="col-12 col-md-8 col-lg-7 text-end-Cstm">
								<div id="navigation_controls">
									<button type="button" class="btn btn-secondary me-2 mb-2" id="go_previous">Previous</button>
									<input id="current_page" value="1" type="number" style="display:none"/>
									<button type="button" class="btn btn-primary me-3 mb-2" id="go_next">Next</button>
									<button id="zoom_in"  class="btn btn-success me-3 mb-2">+</button>
									<button id="zoom_out" class="btn btn-light me-3 mb-2">-</button>
									<button type="button" class="btn btn-light" data-bs-dismiss="modal" id="clsBtn">X</button>
								</div>
							</div>
						</div>
					<!-- <div class="modal-footer">
					</div> -->
				</div>
			</div>
		</div>
	<!--end::Modal - Offer A Deal-->     
		<!-- <div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
			<!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->
			<!-- <span class="svg-icon">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
					<rect opacity="0.5" x="13" y="6" width="13" height="2" rx="1" transform="rotate(90 13 6)" fill="black" />
					<path d="M12.5657 8.56569L16.75 12.75C17.1642 13.1642 17.8358 13.1642 18.25 12.75C18.6642 12.3358 18.6642 11.6642 18.25 11.25L12.7071 5.70711C12.3166 5.31658 11.6834 5.31658 11.2929 5.70711L5.75 11.25C5.33579 11.6642 5.33579 12.3358 5.75 12.75C6.16421 13.1642 6.83579 13.1642 7.25 12.75L11.4343 8.56569C11.7467 8.25327 12.2533 8.25327 12.5657 8.56569Z" fill="black" />
				</svg>
			</span>
			<!--end::Svg Icon-->
		<!-- </div> -->
		<!--end::Scrolltop-->
<script>
comnCss();

</script>
<!-- <script  src="/Envr/js/pdf.min.js">  </script> -->
  <script  src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.min.js">  </script>

    <script>
	       var myState = {
            pdf: null,
            currentPage: 1,
            zoom: 1
        }

	function pdfFilView(pdfURL)
	{
        pdfjsLib.getDocument(pdfURL).then((pdf) => 
		{
            myState.pdf = pdf;
            render();
        });
  	}
      function render() 
		{
            myState.pdf.getPage(myState.currentPage).then((page) => {
          		  // alert("1")'
                var canvas = document.getElementById("pdf_renderer");
                var ctx = canvas.getContext('2d');
      
                var viewport = page.getViewport(myState.zoom);
 			//	 alert("");
                canvas.width = viewport.width;
                canvas.height = viewport.height;
          
                page.render({
                    canvasContext: ctx,
                    viewport: viewport
                });
            });
        }
       document.getElementById('go_previous').addEventListener('click', (e) => {
            if(myState.pdf == null || myState.currentPage == 1) 
              return;
            myState.currentPage -= 1;
            document.getElementById("current_page").value = myState.currentPage;
            render();
        });
 
        document.getElementById('go_next').addEventListener('click', (e) => {
            if(myState.pdf == null || myState.currentPage > myState.pdf._pdfInfo.numPages) 
               return;
            myState.currentPage += 1;
            document.getElementById("current_page").value = myState.currentPage;
            render();
        });
 
        document.getElementById('current_page').addEventListener('keypress', (e) => {
            if(myState.pdf == null) return;
          
            // Get key code
            var code = (e.keyCode ? e.keyCode : e.which);
          
            // If key code matches that of the Enter key
            if(code == 13) {
                var desiredPage = 
                document.getElementById('current_page').valueAsNumber;
                                  
                if(desiredPage >= 1 && desiredPage <= myState.pdf._pdfInfo.numPages) {
                    myState.currentPage = desiredPage;
                    document.getElementById("current_page").value = desiredPage;
                    render();
                }
            }
        });
 
        document.getElementById('zoom_in').addEventListener('click', (e) => {
            if(myState.pdf == null) return;
            myState.zoom += 0.5;
            render();
        });
 
        document.getElementById('zoom_out').addEventListener('click', (e) => 
		{
			//console.log(myState.zoom);
            if(myState.pdf == null) return;
			
			if(myState.zoom < 1)
				myState.zoom = 1;
			else
				myState.zoom -= 0.5;

            render();
        })
    </script>


<style>
	#canvas_container {
		width: 100%;
		height: 90vh;
		overflow: auto;
	}
	.text-end-Cstm
	{
		text-align: left !important;
		padding-left: 10px;
		padding-top: 7px;
		background: #cfe2f3;
	}
	.new_footer_top {
            padding: 0px 0px 63px;
            position: relative;
            overflow-x: hidden;
        }

        .footer_bg_container {
            display: flex;
            justify-content: flex-start; /* Align items horizontally */
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 85px;
        }

        .footer_bg {
            background: url("https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEigB8iI5tb8WSVBuVUGc9UjjB8O0708X7Fdic_4O1LT4CmLHoiwhanLXiRhe82yw0R7LgACQ2IhZaTY0hhmGi0gYp_Ynb49CVzfmXtYHUVKgXXpWvJ_oYT8cB4vzsnJLe3iCwuzj-w6PeYq_JaHmy_CoGoa6nw0FBo-2xLdOPvsLTh_fmYH2xhkaZ-OGQ/s16000/footer_bg.png") no-repeat center center;
            background-size: contain;
            width: 32%;
            height: 85px;
        }

        .new_footer_top .footer_bg_one {
            background: url("https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEia0PYPxwT5ifToyP3SNZeQWfJEWrUENYA5IXM6sN5vLwAKvaJS1pQVu8mOFFUa_ET4JuHNTFAxKURFerJYHDUWXLXl1vDofYXuij45JZelYOjEFoCOn7E6Vxu0fwV7ACPzArcno1rYuVxGB7JY6G7__e4_KZW4lTYIaHSLVaVLzklZBLZnQw047oq5-Q/s16000/volks.gif") no-repeat center center;
            width: 115px;
            height: 30px;
            background-size: 100%;
            position: absolute;
            bottom: 0;
            left: 30%;
            -webkit-animation: myfirst 22s linear infinite;
            animation: myfirst 22s linear infinite;
        }

        .new_footer_top .footer_bg_two {
            background: url("https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhyLGwEUVwPK6Vi8xXMymsc-ZXVwLWyXhogZxbcXQYSY55REw_0D4VTQnsVzCrL7nsyjd0P7RVOI5NKJbQ75koZIalD8mqbMquP20fL3DxsWngKkOLOzoOf9sMuxlbyfkIBTsDw5WFUj-YJiI50yzgVjF8cZPHhEjkOP_PRTQXDHEq8AyWpBiJdN9SfQA/s16000/cyclist.gif") no-repeat center center;
            width: 31px;
            height: 35px;
            background-size: 100%;
            bottom: 0;
            left: 38%;
            position: absolute;
            -webkit-animation: myfirst 30s linear infinite;
            animation: myfirst 30s linear infinite;
        }

        @-moz-keyframes myfirst {
            0% {
                left: -25%;
            }
            100% {
                left: 100%;
            }
        }

        @-webkit-keyframes myfirst {
            0% {
                left: -25%;
            }
            100% {
                left: 100%;
            }
        }

        @keyframes myfirst {
            0% {
                left: -25%;
            }
            100% {
                left: 100%;
            }
        }

       
/*************footer End*****************/

</style>

<script>
 function chkdc()
 {
	Swal.fire({
	  title: 'Are you at Purchaser shop?',
	  text: "Press Yes to capture current location!",
	  icon: 'warning',
	  showCancelButton: true,
	  confirmButtonColor: '#3085d6',
	  cancelButtonColor: '#d33',
	  confirmButtonText: 'Yes!'
	}).then((result) => {
	  if (result.isConfirmed) 
	  {
		 frmSubmt(true);
	  }
	})
}
 function frmSubmt(val)
 {
	 if(val)
	 {
		getLocation();
		//parseAndDisplayAddress();
	 } 
 }
 </script>

backend code ->

<%@ include file="/Envr/JSP/SecurityCom.jsp"%>
<!-- /BirlaWhite/Mobile/GrcLeadEntry.jsp -->
<%@ page import="java.sql.*, java.util.Base64, java.io.ByteArrayInputStream, java.io.IOException, java.util.ArrayList, java.util.List" %>

<%
ResultSet rset = null;

String  sql = "",
		procType = "A",
		docuNumb = "",
		mobileNo = "",
		leadDate = "",
		leadQnty = "",
		siteName = "",
		siteRmrk = "",
		prdCdStr = "",
		siteAddr = "",
		upldFlNm = "",
		uplodBtn = "",
		randNmSt = "",
		leadZone = "",
		leadStat = "",
		saleArea = "",
		loctCity = "",
		siteAdrs = "",
		archctNm = "",
		archctMo = "",
		archctEm = "",
		siteLoct = "",
		grcItmRq = "",
		qtyOfWrk = "",
		timeFram = "",
		disablFl = "",
		areaCode = "",
		itxPanNo = "",
		gstnNumb = "",
		emailAdd = "",
		stateGeo = "",
		district = "",
		pinCodeS = "",
		retlPinC = "",
		cityCode = "",
		location = "",
		cityName = "",
		loginTyp = "",
		stMobNum = "",
		stateNam = "",
		leadMsrs = "",
		areaCodS = "",
		siteType = "",
		retlAdd1 = "",
		mouStrrs = "",
		delvrPrd = "",
		prjcKStr = "",
		prjctKnd = "",
		delvPStr = "",
		cnPerStr = "",
		cntPrsnt = "",
		pinCdStr = "<option value=''></option>",
		adhrNumb = "",
		archtNam = "",
		sitePinC = "",
		drawRand = ("" + (Math.random() * 10000)).substring(0,16),
		formName = "GrcLeadEntry";


Double salesBag = 0.00,
	   salesQty = 0.00;

List<String> imageList = new ArrayList<>();

if (XssFilter.parSmGet("procType") != null)
	procType = XssFilter.parSmGet("procType");

if (XssFilter.parSmGet("docuNumb") != null)
	docuNumb = XssFilter.parSmGet("docuNumb");

if (XssFilter.parSmGet("siteType") != null)
	siteType = XssFilter.parSmGet("siteType");

loginTyp = log.getUserType();
if(log.getUserType().equals(""))
{
	procType = "U";
	loginTyp = "S";
}
if(procType.equals("A"))
{
	sql = "select right(newId(), 8)";
	rset = WebSessBean.selectRecord(sql);

	rset.next();
	randNmSt = rset.getString(1);
}
else //if(procType.equals("A"))
{
	randNmSt = docuNumb;
}

sql = " select 'F2','Feet Squre' union all select 'FT','Feet' union all select 'M2','Meter Squre' union all select 'NO','Numbers' union all select 'RF','Running Ft' ";
mouStrrs = WebSessBean.getSqlToOptionStr(sql, leadMsrs);


sql = " select '01-03 month','01-03 month' union all select '04-06 month','04-06 month' union all select '07-12 month','07-12 month' union all select 'over 12 month','over 12 month' ";
delvPStr = WebSessBean.getSqlToOptionStr(sql, delvrPrd);

sql = " select 'residence / bunglow','residence / bunglow' union all select 'religious','religious' union all select 'hotel','hotel' union all select 'hospital','hospital' union all select 'Govt. Project','Govt. Project' "
	+ " union all select 'Commercial Project','Commercial Project' union all select 'high rise','high rise' union all select 'land scaping','land scaping' union all select 'educational institute','educational institute'  "
	+ " union all select 'Others','Others' ";
prjcKStr = WebSessBean.getSqlToOptionStr(sql, prjctKnd);

sql = " select 'Owner','Owner' union all select 'builder','builder' union all select 'contractor','contractor' union all select 'architect','architect' union all select 'construction company','construction company' ";
cnPerStr = WebSessBean.getSqlToOptionStr(sql, cntPrsnt);
%>

<script language="javascript">

function refreshed()
{
	document.<%=formName%>.method = "POST";
	document.<%=formName%>.action = "<%=formName%>.jsp";
	document.<%=formName%>.submit();
}

function deleter2()
{
	deleterCv("<%=formName%>", "abc1", "prjTable", 1);
}

function addrow(prodCode,salesBag,salesQty)
{
	numrows = getNumRows();
	var newRow = insertRowBw(document.all.prjTable);

	name = "abc1";
	m = insertCellBw(newRow);
	m.innerHTML = "<input type = 'checkbox' name = '" + name + "' value = '" + numrows + "'>";

	name = "prodCode" + numrows;
	m = insertCellBw(newRow);
	m.innerHTML = "<select class='form-control' name='" + name + "' id='" + name + "' class='form-control form-control-solid'  value='" + prodCode + "'><%=prdCdStr%></select>";
	//m.innerHTML = "<input type='text' name='" + name + "' id='" + name + "' class='form-control form-control-solid' value='" + prodCode + "'>";
	
	name = "salesBag" + numrows;
	m = insertCellBw(newRow);
	m.innerHTML = "<input type='text' name='" + name + "' id='" + name + "' class='form-control form-control-solid' value='" + salesBag + "' onchange=\"return BagConv(" + numrows + ", 'N')\">";
	

	name = "salesQty" + numrows;
	m = insertCellBw(newRow);
	m.innerHTML = "<input type='text' name='" + name + "' id='" + name + "' class='form-control form-control-solid' value='" + salesQty + "' readonly>";


	$("#prjTable").before(numrows);
		eval("document.<%=formName%>.prodCode" + numrows).value = prodCode;
		eval("document.<%=formName%>.salesBag" + numrows).value = salesBag;
		eval("document.<%=formName%>.salesQty" + numrows).value = salesQty;
	if($("select").select2 != null)
		$("select").select2();

	BagConv(numrows,"N");
}

 var upldFlNm ;
//var  upldFlNmDiv;
function photoUpl()
{
	var flUpLnSt = "";
	var docuType = "";
	var filSeqNo = "Img1";


   	if(document.<%=formName%>.procType.value == "A")
		upldFlNm = "<%=randNmSt%><%=loginIdM%>";
	else
	   upldFlNm = "<%=randNmSt%>";

	document.<%=formName%>.upldFlNm.value = upldFlNm;
//	alert(upldFlNm);
	flUpLnSt = "/Envr/JSP/FileUpload.jsp?popupWin=Y&upDocNum=" + upldFlNm + "&fileDocu=0&fileType=jpg,jpeg&maxmSize=5&filSeqNo=" + filSeqNo + "&attFilTy=00";

	createModal('Image Upload', '' + flUpLnSt + '')
	return true;
}

function areaCodeChange()
{
	console.log("function called 1");
	var rtnValue = districtOpt('<%=formName%>', 'areaCode', 'A', '', 'district');
	if (rtnValue == false)
		return false;

	document.<%=formName%>.district.onchange = function ()
	{
		fillPinLoc1();
		updateAddressFields();

		console.log("function called");

	}
	createEmptySelect("sitePinC");
	return true;
}

function fillPinLoc1()
{
    console.log("function called 3");
	return pinCodeNOpt('<%=formName%>', 'district', '', 'sitePinC');
} 

function photView()
{	
	var imgeView = "";

														
	var atchNmId = "0", atchNmIO = "";
	var filSeqNo = "Img1";

	if(atchNmIO != "")
	{
		atchNmId = atchNmIO;
	}

   	if(document.<%=formName%>.procType.value == "A")
		upldFlNm = "<%=randNmSt%><%=loginIdM%>";
	else
	   upldFlNm = "<%=randNmSt%>";

	imgeView = "/Envr/JSP/AtchFileShow.jsp?docuNumb=" + upldFlNm + "&atchNmId=" + atchNmId + "&filSeqNo=" + filSeqNo + "&attFilTy=00";
	createModal('Image Upload', '' + imgeView + '')
}
	
function submitValid()
{
	if(document.<%=formName%>.procType.value != "A")
	{
		if(!textValidApp(document.<%=formName%>.docuNumb, "Document No", false))
			return false;
	}

	if(!textValidApp(document.<%=formName%>.procType, "Process Type", false))
		return false;

	if(!textValidApp(document.<%=formName%>.leadDate, "Date", false))
		return false;

	if(!textValidApp(document.<%=formName%>.leadQnty, "Qty", false))
		return false;

	if(!textValidApp(document.<%=formName%>.siteName, "Site Name", false))
		return false;
	if(!textValidApp(document.<%=formName%>.mobileNo, "Mobile No", false))
		return false;
	if(!textValidApp(document.<%=formName%>.siteAddr, "Address", false))
		return false;

	confirm("Press OK to save.")
	{
		document.<%=formName%>.method = "POST";
		document.<%=formName%>.action = "<%=formName%>S.jsp";
		document.<%=formName%>.submit();
	}
}

function geoLocPnChng(currObjt) 
{
    if (currObjt == "G") 
	{
        if ("<%=mobilApp%>" == "true") 
		{
            chkdc();
           // parseAndDisplayAddress();
        }
    }
	else 
	{
        // Handle Pin Code selection if needed
		//parseAndDisplayAddress();
		 chkdc();
    }
}

function setCust()
{
	document.<%=formName%>.concEmpl.value = "";
	if(isEmpty(document.<%=formName%>.areaCode.value))
	{
	//	enableDisable("custCode", "D");
		document.getElementById("district").innerHTML = "<select name=''  class='selectpicker' data-style='btn-info' ><option value=''>select</option></select>";
	}
	else
	{
		 fillDistLoc('');
	
	}
}

function fillDistLoc(currObjt)
{
	var wherList = "";
		//wherList = whereAdd(wherList, "SW_06", document.<%=formName%>.areaCode.value);
//		wherList = whereAdd(wherList, "SW_02", "12");
	var rtnValue = districtOpt('<%=formName%>', 'areaCode', 'A', wherList, 'district');
	if(rtnValue)
	{
		if(currObjt != "")
		{
			if(document.<%=formName%>.district !=  null)
				document.<%=formName%>.district.value = currObjt.toUpperCase();
		}

		document.<%=formName%>.district.onchange = function fillPinCdLoc()
		{
			rtnValue = pinCodeNOpt('<%=formName%>', 'district', '', 'retlPinC');
		}
	}

	if(document.<%=formName%>.retlPinC.value == "" || document.<%=formName%>.retlPinC ==  null)
		createEmptySelect("retlPinC");
}

function retlPinCChang(currObjc)
{
 
	var cityName = splitSelectText(document.<%=formName%>.retlPinC)[1];
	
	document.<%=formName%>.location.value = cityName;
	document.<%=formName%>.cityName.value = cityName;
	document.getElementById("locationDiv").innerText = cityName

	 fillDistLoc(splitSelectText(document.<%=formName%>.retlPinC)[2]);

}

function updateAddressFields() {
    const addressString = document.getElementById('retlAdd1').value;

    // Remove any leading or trailing spaces and normalize the address
    const normalizedAddress = addressString.trim().replace(/\s+/g, ' ');

    // Try to match the pincode in the address string
    const pincodeRegex = /\b\d{6}\b/;
    const pincodeMatch = normalizedAddress.match(pincodeRegex);
    let pincode = '';
    if (pincodeMatch) {
        pincode = pincodeMatch[0];
    }

    // Remove the pincode from the address string
    const addressWithoutPincode = normalizedAddress.replace(pincodeRegex, '');

    // Split the address by comma and trim each part
    const parts = addressWithoutPincode.split(',').map(part => part.trim());

    // Extract city, district, and state from the parts
    let city = '';
    let district = '';
    let state = '';
    if (parts.length >= 3) {
        city = parts[0];
        district = parts[1];
        state = parts.slice(2).join(', ');
    } else if (parts.length === 2) {
        city = parts[0];
        state = parts[1];
    } else if (parts.length === 1) {
        city = parts[0];
    }

    // Update the input fields
    document.getElementById('city1').value = city;
    document.getElementById('district1').value = district;
    document.getElementById('pincode1').value = pincode;
    document.getElementById('state1').value = state;
}

</script>

<!-- header display area begin -->
<jsp:include page="/Envr/JSP/HeaderCom.jsp" flush="true">
    <jsp:param name="mobFrend" value="B"/>
</jsp:include>
<!-- HEADER DISPLAY AREA ENDS -->
<form name="<%=formName%>">
    <div class="card card-xl-stretch p-6" ontouchstart="updateAddressFields()">
        <div class="row p-6">
            <h1 class="header-bw" align="center"> Process Details </h1>
            <div class="col-md-4">
                <label class="required">Define Onsite/Offsite</label>
                <select name="siteType" id="siteType" onchange="refreshed()" value="">
                    <%=WebSessBean.getSqlToOptionStr("select 'O', 'Onsite' union select 'F', 'Offsite' ",siteType)%>
                </select>
            </div>
            <div class="col-md-4">
                <label class="required">Process Type</label>
                <select name="procType" id="procType" onchange="refreshed()" value="">
                    <%=WebSessBean.getSqlToOptionStr("select 'A', 'Add' union select 'U', 'Update' ",procType)%>
                </select>
            </div>
<%
if(procType.equals("U"))
{
%>
 		<div class="col-md-4">
			<label class="required">Document No</label>
			<select name="docuNumb" id="docuNumb" onchange = "refreshed()">
					<%=WebSessBean.getSqlToOptionStr("select a.docuNumb, a.docuNumb  from bwlive.dbo.dptGrcLeadGn a with (nolock) where a.createId = '" + loginIdM + "' ", docuNumb, false)%>
			</select>
		</div>
<%
}
try 
{	
	if(!docuNumb.equals("") && siteType.equals("F"))
	{
		sql = "select a.docuNumb, convert(varchar(10), leadDate, 111), leadQnty, siteName, mobileNo, siteAddr, siteRmrk, adhrNumb, archtNam, itxPanNo, gstnNumb, emailAdd, district, areaCode, retlPinC , attchMnt from bwlive.dbo.dptGrcLeadGn a with (nolock) where docuNumb = '" + docuNumb + "' ";
		rset = WebSessBean.selectRecord(sql);
		if(rset.next())
		{
			docuNumb = rset.getString(1); 
			leadDate = rset.getString(2); 
			leadQnty = rset.getString(3); 
			siteName = rset.getString(4);  
			mobileNo = rset.getString(5);  
			siteAddr = rset.getString(6);  
			siteRmrk = rset.getString(7); 
			adhrNumb = rset.getString(8); 
			archtNam = rset.getString(9); 
			itxPanNo = rset.getString(10); 
			gstnNumb = rset.getString(11); 
			emailAdd = rset.getString(12); 
			district = rset.getString(13); 
			areaCode = rset.getString(14); 
			sitePinC = rset.getString(15); 
			drawRand = rset.getString(16); 
		}
	}
	if(!docuNumb.equals("") && siteType.equals("O"))
	{
		sql = "select a.docuNumb, convert(varchar(10), leadDate, 111), leadQnty, siteName, mobileNo, siteAddr, siteRmrk, adhrNumb, archtNam, itxPanNo, gstnNumb, emailAdd, district, stateNam, cityName, attchMnt from bwlive.dbo.dptGrcLeadGn a with (nolock) where docuNumb = '" + docuNumb + "' ";
		rset = WebSessBean.selectRecord(sql);
		if(rset.next())
		{
			docuNumb = rset.getString(1); 
			leadDate = rset.getString(2); 
			leadQnty = rset.getString(3); 
			siteName = rset.getString(4);  
			mobileNo = rset.getString(5);  
			siteAddr = rset.getString(6);  
			siteRmrk = rset.getString(7); 
			adhrNumb = rset.getString(8); 
			archtNam = rset.getString(9); 
			itxPanNo = rset.getString(10); 
			gstnNumb = rset.getString(11); 
			emailAdd = rset.getString(12); 
			district = rset.getString(13); 
			stateNam = rset.getString(14); 
			cityName = rset.getString(15); 
			drawRand = rset.getString(16); 
		}
	
	}
%>	

<div class="col-md-4">
    <label>lead Date</label>
    <input type="text" value="<%=leadDate%>" name="leadDate" id="leadDate" onChange="return isDate(this, false, '')" onClick="showCal('<%=formName%>','leadDate')">	<br>
</div>
<div class="col-md-4">
    <label class="required">lead Qty</label>
    <input type="text" value="<%=leadQnty%>" name="leadQnty" id="leadQnty" required><br>
</div>
<div class="col-md-4">
    <label class="optional">Unit of Measurement</label><span class="optional">(optional)</span>
    <select name="leadMsrs" id="leadMsrs"> <%=mouStrrs%> </select><br>
</div>

<%
if(siteType.equals("F"))
{
%>
		<br><h1 class="header-bw" align="center">Project Details </h1>
		<div class="col-md-4">
				<label class="control-label float-sm-left">Area *</label> 
					<select name="areaCode" id="areaCode" data-live-search="true" onChange="return areaCodeChange()" class="selectpicker" value="<%=areaCode%>">
						<%=WebSessBean.getArDesc(areaCode, true)%>
					</select><br>
		</div>

<%
}
if(siteType.equals("O"))
{
%>
<br>
<h1 class="header-bw" align="center">Project Details </h1>
<div class="col-md-4">
    <label class="control-label float-sm-left">Area *</label> 
    <select name="areaCode" id="areaCode" data-live-search="true" class="selectpicker" value="<%=areaCodS%>">
        <%=WebSessBean.getArDesc(areaCodS, true)%>
    </select><br>
</div>
<div class="col-md-4">
    <label>Address Capture using Geo Location*(for Mobile)</label> 
    <div class="card1">
        <label class="check"> 
            <input type="radio" name="geoLocPn" value="G" id="geoLocPn" onclick="geoLocPnChng('G')">
            <span>Geo Location</span> 
        </label>
        <label class="check"> 
            <input type="radio" name="geoLocPn" value="P" id="geoLocPn1" onclick="geoLocPnChng('P')">
            <span>Pin Code</span> 
        </label> 
    </div>
</div>
<div class="col-md-4">
    <label class="control-label float-sm-left">Address 1 *</label> 
    <input type="text" id="retlAdd1" name="retlAdd1" class="form-control" value="<%=retlAdd1%>" onChange="updateAddressFields()">
    <!--<input type="button" name="btnSaveExit" value="Submit" class="coloredBtn" onClick="updateAddressFields()">-->
</div>
<div style="display: none;">
    <div class="col-md-4">
        <label class="control-label float-sm-left">Pin Code *</label> 
        <div>
            <select name="retlPinC" id="retlPinC" class="form-control" onChange="return retlPinCChang()">
                <%//=pinCdStr%>
                <option value="">-- Select  Pin Code --</option>
            </select> 
        </div>
    </div> 
</div>
	 <div class="col-md-4">
        <label for="city">Area Code(G-MAP)</label>
        <input type="text" id="city1" name="cityName" value="<%=cityName%>" readonly>
    </div>
    <div class="col-md-4">
        <label for="district">Addres 2</label>
        <input type="text" id="district1" name="district" value="<%=district%>" readonly>
    </div>
    <div class="col-md-4">
        <label for="pincode">Pincode:</label>
        <input type="text" id="pincode1" name="pinCodeS" value="<%=pinCodeS%>" readonly>
    </div>
    <div class="col-md-4">
        <label for="state">Address 3</label>
        <input type="text" id="state1" name="stateNam" value="<%=stateNam%>" readonly>
    </div>

<%
} 
if (siteType.equals("F"))
{
%>
<div class="col-md-4">
    <label class="control-label float-sm-left">City and District *</label>
    <select name="district" id="district" class="selectpicker">
        <option>Select District</option>
    </select>
    <label class="control-label" id="districtLabel"></label><br>
</div>
<div class="form-group col-md-4">
    <label class="control-label float-sm-left">Pin Code *</label>
    <select name="sitePinC" id="sitePinC" class="selectpicker">
        <option value="">Select Pincode</option>
    </select>
    <label class="control-label" id="sitePinCLabel"></label>
</div>
<%
}
%>
<div class="col-md-4">
    <label class="required">Project Name</label>
    <input type="text" value="<%=siteName%>" name="siteName" id="siteName" required> <br>
</div>
<div class="col-md-4">
	<label class="">Delivery Period </label>
	<select id="delvrPrd" name="delvrPrd" value="<%=delvrPrd%>"><%=delvPStr%></select>
</div>
<div class="col-md-4">
	<label class="">Kind of project </label>
	<select id="prjctKnd" name="prjctKnd" value="<%=prjctKnd%>"><%=prjcKStr%></select>
</div>
<div class="col-md-4">
    <label class="required">Project Address</label>
    <input type="text" value="<%=siteAddr%>" name="siteAddr" id="siteAddr" required>
</div>
<div class="col-md-4">
    <label class="optional">Contact Person</label><span class="optional">(optional)</span>
    <input type="text" value="<%=stMobNum%>" maxlength="10" name="stMobNum" id="stMobNum"><br>
</div>
<div class="col-md-4">
	<label class="">Contact Person Type </label>
	<select id="cntPrsnt" name="cntPrsnt" value="<%=cntPrsnt%>"><%=cnPerStr%></select>
</div>
<br>
<div class="col-md-4">
    <label class="required">Architect Name:</label>
    <input type="text" value="<%=archtNam%>" name="archtNam" class="required" id="archtNam" required> <br>
</div>
<div class="col-md-4">
    <label class="required">Mobile No</label>
    <input type="text" value="<%=mobileNo%>" maxlength="10" name="mobileNo" id="mobileNo" required>
</div>
<div class="col-md-4">
    <div class="d-flex flex-column mb-5 fv-row">
        <label class="d-flex align-items-center fs-5 fw-bold mb-2">Email</label>
        <input type='text' name='emailAdd' id="emailAdd" size='40' class="form-control" value='<%=emailAdd%>' maxlength='40' <%=disablFl%>>
    </div>
</div>
<br>
<h1 class="header-bw" align="center">Buyer Detail</h1>
<div class="col-md-4" id="gstDiv">
    <div class="d-flex flex-column mb-5 fv-row">
        <label class=" d-flex align-items-center fs-5 fw-bold mb-2">GST Number </label>
        <input type='text' name='gstnNumb' id="gstnNumb" placeholder="GSTIN" size='30' class="form-control" maxlength="15" value="<%=gstnNumb%>">        
        <div style="display:none" id="gstnNumbDiv"></div>
    </div>
</div>
<div class="col-md-4" id="panDiv">
    <div class="d-flex flex-column mb-5 fv-row">
        <label class=" d-flex align-items-center fs-5 fw-bold mb-2">PAN NO  </label>
        <input type="text" size="10" maxlength="10" name="itxPanNo" id="itxPanNo" class="form-control" placeholder="PAN" value="<%=itxPanNo%>">
        <input type="hidden" name="itxPanNoH" id="itxPanNoH" value="<%=itxPanNo%>">
        <div id="itxPanNoDiv"></div>
    </div>
</div>
<div class="col-md-4" id="panDiv">
    <div class="d-flex flex-column mb-5 fv-row">
        <label class=" d-flex align-items-center fs-5 fw-bold mb-2">AADHAR NO  </label>
        <input type="text" size="10" maxlength="12" name="adhrNumb" id="adhrNumb" class="form-control" placeholder="AADHAR" value="<%=adhrNumb%>">
        <input type="hidden" name="adhrNumb" id="adhrNumb" value="<%=adhrNumb%>">
        <div id="adhNoDiv"></div>
    </div>
</div>
<div class="col-md-4">
    <label class="required">Remarks</label>
    <input type="text" value="<%=siteRmrk%>" name="siteRmrk" id="siteRmrk" required>
</div>
</div>
<div class="mt-5" align="center">
<label class="control-label"> Upload Aadhar
    <input type='button' name='uplodBtn' class='coloredBtnBig' value='Upload Image' onClick="openUpldWind('<%=drawRand%>', '', '', '.5',  'A', '00')"></td>
    <input type="hidden" name="drawRand" value="<%=drawRand%>">
	<td><script language='javascript'>document.write(atchFileShowJS('<%=drawRand%>', 0, '', 'A'))</script>
</label>
<label class="control-label"> Upload PAN
    <input type='button' name='uplodBtn' class='coloredBtnBig' value='Upload Image' onClick="openUpldWind('<%=drawRand%>', '', '', '.5',  'B', '00')"></td>
    <input type="hidden" name="drawRand" value="<%=drawRand%>">
	<td><script language='javascript'>document.write(atchFileShowJS('<%=drawRand%>', 0, '', 'B'))</script>
</label>
<label class="control-label"> Upload Drawing
    <input type='button' name='uplodBtn' class='coloredBtnBig' value='Upload Image' onClick="openUpldWind('<%=drawRand%>', '', '', '.5',  'C', '00')"></td>
    <input type="hidden" name="drawRand" value="<%=drawRand%>">
	<td><script language='javascript'>document.write(atchFileShowJS('<%=drawRand%>', 0, '', 'C'))</script>
</label>
<label class="control-label"> Upload GST
    <input type='button' name='uplodBtn' class='coloredBtnBig' value='Upload Image' onClick="openUpldWind('<%=drawRand%>', '', '', '.5',  'D', '00')"></td>
    <input type="hidden" name="drawRand" value="<%=drawRand%>">
	<td><script language='javascript'>document.write(atchFileShowJS('<%=drawRand%>', 0, '', 'D'))</script>
</label>
</div>

<%
if(mobilApp)
{
%>
		<!--		<div class="form-group col-md-6  col-12">
					 <input type="button" name="getLocation" class="btn btn-secondary" value="Re Capture Location" onClick="getLocation()" /> 
				</div> -->
<%
}
%>
<div style="display: none;">
	<%@ include file="/Envr/JSP/LocaCapture.jsp"%> 
</div>
<%
if(!procType.equals(""))
{
	try 
	{
		 // Assuming "attachFl" is the column containing image data
		sql = " SELECT attachFl FROM imageData.dbo.cotDocAttch where docuNumb = '" + drawRand + "' ";
		rset = KkrSessBean.selectRecord(sql);
		// System.out.println("Executing SQL query: " + sql);

    while (rset.next()) 
	{
        Blob blob = rset.getBlob("attachFl");
        if (blob != null) 
		{
            int blobLength = (int) blob.length();
            byte[] bytes = blob.getBytes(1, blobLength);
            String imageData = Base64.getEncoder().encodeToString(bytes);
            // System.out.println("Retrieved image data: " + imageData);
            imageList.add(imageData);
            blob.free();  // Close the Blob after usage
        }
    }

    if (!imageList.isEmpty()) 
	{
        for (String imageData : imageList) 
		{
            byte[] decodedImageData = Base64.getDecoder().decode(imageData);

            try (ByteArrayInputStream inputStream = new ByteArrayInputStream(decodedImageData)) 
			{
%>
			<div class="col-md-2" align="center">
                <img height="250px" width="400px" align="center" src="data:image/jpeg;base64,<%= Base64.getEncoder().encodeToString(decodedImageData) %>" alt="Image" />
			</div>
<%
}
catch (IOException e) 
{
  e.printStackTrace();
}
        }
    }
} 
catch (Exception e) 
{
    e.printStackTrace();
}
}
}
catch(Exception e)
{
	throw new Exception("error in " + pageAddress + e + sql);
}
%>
	<div class="mt-5" align="center">
		<input type="button" name="btnSaveExit" value="Submit" class="coloredBtn" onClick="return submitValid()">
	</div>
</div>
<jsp:include page="/Envr/JSP/FooterCom.jsp" flush="true"/>
<script>
 function chkdc()
 {
	Swal.fire({
	  title: 'Are you at Purchaser shop?',
	  text: "Press Yes to capture current location!",
	  icon: 'warning',
	  showCancelButton: true,
	  confirmButtonColor: '#3085d6',
	  cancelButtonColor: '#d33',
	  confirmButtonText: 'Yes!'
	}).then((result) => {
	  if (result.isConfirmed) 
	  {
		 frmSubmt(true);
	  }
	})
}
 function frmSubmt(val)
 {
	 if(val)
	 {
		getLocation();
		//parseAndDisplayAddress();
	 } 
 }
 </script>

